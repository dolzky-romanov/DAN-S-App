<!DOCTYPE html>
<!-- saved from url=(0132)blob:https://2ymo5f2kscw8e2zkfvuu7fb2sesq1y29wqz6lyqpukxv0kjmd2-h802130808.scf.usercontent.goog/33c1e66d-c695-43e5-b6ee-c3d59d10b553 -->
<html lang="id"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(firebaseConfig, initialAuthToken, appId) {
        window.__firebase_config = firebaseConfig;
        window.__initial_auth_token = initialAuthToken;
        window.__app_id = appId;
            })("\n{\n  \"apiKey\": \"AIzaSyCqyCcs2R2e7AegGjvFAwG98wlamtbHvZY\",\n  \"authDomain\": \"bard-frontend.firebaseapp.com\",\n  \"projectId\": \"bard-frontend\",\n  \"storageBucket\": \"bard-frontend.firebasestorage.app\",\n  \"messagingSenderId\": \"175205271074\",\n  \"appId\": \"1:175205271074:web:2b7bd4d34d33bf38e6ec7b\"\n}\n","eyJhbGciOiJSUzI1NiIsImtpZCI6IjliMTEzMzgxNDVkZDk3ZmQ4YjgyMjgyYmRmNDg1ZDBiYjJiZmQwN2EiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0BiYXJkLWZyb250ZW5kLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwiYXVkIjoiaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vZ29vZ2xlLmlkZW50aXR5LmlkZW50aXR5dG9vbGtpdC52MS5JZGVudGl0eVRvb2xraXQiLCJ1aWQiOiIxMDcwOTk1Nzk1OTE0ODQ5NTkyNiIsImlzcyI6ImZpcmViYXNlLWFkbWluc2RrLWZic3ZjQGJhcmQtZnJvbnRlbmQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJjbGFpbXMiOnsiYXBwSWQiOiJjX2M2Yjg4YTg1YWM3NmM3MjVfaW5kZXguaHRtbC03NyJ9LCJleHAiOjE3NTc0MzczMjIsImlhdCI6MTc1NzQzMzcyMiwiYWxnIjoiUlMyNTYifQ.Iytnf7moeVQWp5-UuIsfZ86buysxII-aA7j--bcrxuROHyrEsD229iSeWZZn6j_oZto-LEnF2VUhssR9kafaRf3Cwz7-IEKA9lJ56ddOt_e4SrzMT1eaaivERJDKPJvHxDeIYDOVzOYv2gVZy4GdotWlc9Ups4nv9rFFrujZK-zbkmeprDd5q2sxDm9gc7PCm-JnJGN2Fc2vPSeaLeuUSN0nsuPlNbWfZq6rf0EeVdhqup9C1gP8F9X_Mw2QY_PYj8y4T5My1DaiYhid_580PsZ7GPBE3XPMAef3fyRfATfXD04VOJf8SLsqazqy8csA_blD9lZaFQR-PtNnnecs_w","c_c6b88a85ac76c725_index.html-77")</script><script>'use strict';var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};function l(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var n=l(this);
function p(a,b){if(b)a:{var d=n;a=a.split(".");for(var c=0;c<a.length-1;c++){var e=a[c];if(!(e in d))break a;d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&b!=null&&h(d,a,{configurable:!0,writable:!0,value:b})}}function r(a){function b(c){return a.next(c)}function d(c){return a.throw(c)}return new Promise(function(c,e){function f(g){g.done?c(g.value):Promise.resolve(g.value).then(b,d).then(f,e)}f(a.next())})}function t(a){return r(a())}
p("Object.values",function(a){return a?a:function(b){var d=[],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&d.push(b[c]);return d}});p("Array.prototype.includes",function(a){return a?a:function(b,d){var c=this;c instanceof String&&(c=String(c));var e=c.length;d=d||0;for(d<0&&(d=Math.max(d+e,0));d<e;d++){var f=c[d];if(f===b||Object.is(f,b))return!0}return!1}});/*

 MIT License

 Copyright (c) 2017-2023 W.Y.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.

*/
function u(a,b){const d=a.style;b.backgroundColor&&(d.backgroundColor=b.backgroundColor);b.width&&(d.width=`${b.width}px`);b.height&&(d.height=`${b.height}px`);const c=b.style;c!=null&&Object.keys(c).forEach(e=>{d[e]=c[e]})};var v=(()=>{let a=0;return()=>{a+=1;return`u${`0000${(Math.random()*1679616<<0).toString(36)}`.slice(-4)}${a}`}})();function w(a){const b=[];for(let d=0,c=a.length;d<c;d++)b.push(a[d]);return b}let x=null;function y(a={}){return x?x:a.l?x=a.l:x=w(window.getComputedStyle(document.documentElement))}function z(a,b){return(a=(a.ownerDocument.defaultView||window).getComputedStyle(a).getPropertyValue(b))?parseFloat(a.replace("px","")):0}
function A(a,b={}){var d;if(!(d=b.width)){d=z(a,"border-left-width");var c=z(a,"border-right-width");d=a.clientWidth+d+c}(b=b.height)||(b=z(a,"border-top-width"),c=z(a,"border-bottom-width"),b=a.clientHeight+b+c);return{width:d,height:b}}function B(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>{c.decode().then(()=>{requestAnimationFrame(()=>b(c))})};c.onerror=d;c.crossOrigin="anonymous";c.decoding="async";c.src=a})}
function C(a){return t(function*(){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(a)).then(encodeURIComponent).then(b=>`data:image/svg+xml;charset=utf-8,${b}`)})}
function D(a,b,d){return t(function*(){const c=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");c.setAttribute("width",`${b}`);c.setAttribute("height",`${d}`);c.setAttribute("viewBox",`0 0 ${b} ${d}`);e.setAttribute("width","100%");e.setAttribute("height","100%");e.setAttribute("x","0");e.setAttribute("y","0");e.setAttribute("externalResourcesRequired","true");c.appendChild(e);e.appendChild(a);return C(c)})}
var E=(a,b)=>{if(a instanceof b)return!0;a=Object.getPrototypeOf(a);return a===null?!1:a.constructor.name===b.name||E(a,b)};function F(a,b){return y(b).map(d=>{const c=a.getPropertyValue(d),e=a.getPropertyPriority(d);return`${d}: ${c}${e?" !important":""};`}).join(" ")}
function G(a,b,d,c){a=window.getComputedStyle(a,d);var e=a.getPropertyValue("content");if(e!==""&&e!=="none"){var f=v();try{b.className=`${b.className} ${f}`}catch(k){return}e=document.createElement("style");var g=e.appendChild;d=`.${f}:${d}`;a.cssText?(c=a.getPropertyValue("content"),c=`${a.cssText} content: '${c.replace(/'|"/g,"")}';`):c=F(a,c);g.call(e,document.createTextNode(`${d}{${c}}`));b.appendChild(e)}};function H(a){return a.search(/^(data:)/)!==-1}function I(a,b,d){return t(function*(){const c=yield fetch(a,b);if(c.status===404)throw Error(`Resource "${c.url}" not found`);const e=yield c.blob();return new Promise((f,g)=>{const k=new FileReader;k.onerror=g;k.onloadend=()=>{try{f(d({o:c,result:k.result}))}catch(m){g(m)}};k.readAsDataURL(e)})})}const J={};function K(a,b,d){let c=a.replace(/\?.*/,"");d&&(c=a);/ttf|otf|eot|woff2?/i.test(c)&&(c=c.replace(/.*\//,""));return b?`[${b}]${c}`:c}
function L(a,b,d){return t(function*(){const c=K(a,b,d.C);if(J[c]!=null)return J[c];d.u&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime());let e;try{const f=yield I(a,d.i,({o:g,result:k})=>{b||(b=g.headers.get("Content-Type")||"");return k.split(/,/)[1]});e=`data:${b};base64,${f}`}catch(f){e=d.B||""}return J[c]=e})};const M={P:"application/font-woff",R:"application/font-woff",N:"application/font-truetype",v:"application/vnd.ms-fontobject",H:"image/png",F:"image/jpeg",D:"image/jpeg",A:"image/gif",M:"image/tiff",L:"image/svg+xml",O:"image/webp"};function N(a){return(a=/\.([^./]*?)$/g.exec(a))?a[1]:""};function O(a){return t(function*(){const b=a.toDataURL();return b==="data:,"?a.cloneNode(!1):B(b)})}function aa(a,b){return t(function*(){if(a.currentSrc){var d=document.createElement("canvas");const c=d.getContext("2d");d.width=a.clientWidth;d.height=a.clientHeight;c==null||c.drawImage(a,0,0,d.width,d.height);d=d.toDataURL();return B(d)}d=a.poster;d=yield L(d,M[N(d).toLowerCase()]||"",b);return B(d)})}
function ba(a,b){return t(function*(){try{let d;if(a==null?0:(d=a.contentDocument)==null?0:d.body)return yield P(a.contentDocument.body,b,!0)}catch(d){}return a.cloneNode(!1)})}function ca(a,b){return t(function*(){return E(a,HTMLCanvasElement)?O(a):E(a,HTMLVideoElement)?aa(a,b):E(a,HTMLIFrameElement)?ba(a,b):a.cloneNode(a.tagName!=null&&a.tagName.toUpperCase()==="SVG")})}
function da(a,b,d){return t(function*(){if(b.tagName!=null&&b.tagName.toUpperCase()==="SVG")return b;let c=[];if(a.tagName!=null&&a.tagName.toUpperCase()==="SLOT"&&a.assignedNodes)c=w(a.assignedNodes());else{let e;if(E(a,HTMLIFrameElement)&&((e=a.contentDocument)==null?0:e.body))c=w(a.contentDocument.body.childNodes);else{let f;c=w(((f=a.shadowRoot)!=null?f:a).childNodes)}}if(c.length===0||E(a,HTMLVideoElement))return b;yield c.reduce((e,f)=>e.then(()=>P(f,d)).then(g=>{g&&b.appendChild(g)}),Promise.resolve());
return b})}function ea(a,b,d){const c=b.style;if(c){var e=window.getComputedStyle(a);e.cssText?(c.cssText=e.cssText,c.transformOrigin=e.transformOrigin):y(d).forEach(f=>{let g=e.getPropertyValue(f);f==="font-size"&&g.endsWith("px")&&(g=`${Math.floor(parseFloat(g.substring(0,g.length-2)))-.1}px`);E(a,HTMLIFrameElement)&&f==="display"&&g==="inline"&&(g="block");f==="d"&&b.getAttribute("d")&&(g=`path(${b.getAttribute("d")})`);c.setProperty(f,g,e.getPropertyPriority(f))})}}
function fa(a,b){E(a,HTMLSelectElement)&&(b=Array.from(b.children).find(d=>a.value===d.getAttribute("value")))&&b.setAttribute("selected","")}
function ha(a,b){return t(function*(){var d=a.querySelectorAll?a.querySelectorAll("use"):[];if(d.length===0)return a;var c={};for(var e=0;e<d.length;e++){var f=d[e].getAttribute("xlink:href");if(f){const g=document.querySelector(f);a.querySelector(f)||!g||c[f]||(c[f]=yield P(g,b,!0))}}d=Object.values(c);if(d.length){c=document.createElementNS("http://www.w3.org/1999/xhtml","svg");c.setAttribute("xmlns","http://www.w3.org/1999/xhtml");c.style.position="absolute";c.style.width="0";c.style.height="0";
c.style.overflow="hidden";c.style.display="none";e=document.createElementNS("http://www.w3.org/1999/xhtml","defs");c.appendChild(e);for(f=0;f<d.length;f++)e.appendChild(d[f]);a.appendChild(c)}return a})}
function P(a,b,d){return t(function*(){return d||!b.filter||b.filter(a)?Promise.resolve(a).then(c=>ca(c,b)).then(c=>da(a,c,b)).then(c=>{E(c,Element)&&(ea(a,c,b),G(a,c,":before",b),G(a,c,":after",b),E(a,HTMLTextAreaElement)&&(c.textContent=a.value),E(a,HTMLInputElement)&&c.setAttribute("value",a.value),fa(a,c));return c}).then(c=>ha(c,b)):null})};const Q=/url\((['"]?)([^'"]+?)\1\)/g,ia=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ja=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ka(a){const b=[];a.replace(Q,(d,c,e)=>{b.push(e);return d});return b.filter(d=>!H(d))}
function la(a,b,d,c){return t(function*(){try{const e=d?(new URL(b,d||void 0)).toString():b;let f;f=yield L(e,M[N(b).toLowerCase()]||"",c);return a.replace(new RegExp(`(url\\(['"]?)(${b.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")})(['"]?\\))`,"g"),`$1${f}$3`)}catch(e){}return a})}function ma(a,{I:b}){return b?a.replace(ja,d=>{for(;;){const [c,,e]=ia.exec(d)||[],f=c,g=e;if(!g)return"";if(g===b)return`src: ${f};`}}):a}
function R(a,b,d){return t(function*(){if(a.search(Q)===-1)return a;const c=ma(a,d);return ka(c).reduce((e,f)=>e.then(g=>la(g,f,b,d)),Promise.resolve(c))})};function S(a,b,d){return t(function*(){var c;const e=(c=b.style)==null?void 0:c.getPropertyValue(a);return e?(c=yield R(e,null,d),b.style.setProperty(a,c,b.style.getPropertyPriority(a)),!0):!1})}function na(a,b){return t(function*(){(yield S("background",a,b))||(yield S("background-image",a,b));(yield S("mask",a,b))||(yield S("-webkit-mask",a,b))||(yield S("mask-image",a,b))||(yield S("-webkit-mask-image",a,b))})}
function oa(a,b){return t(function*(){const d=E(a,HTMLImageElement);if(d&&!H(a.src)||E(a,SVGImageElement)&&!H(a.href.baseVal)){var c=d?a.src:a.href.baseVal,e=yield L(c,M[N(c).toLowerCase()]||"",b);yield new Promise((f,g)=>{a.onload=f;a.onerror=b.m?(...k)=>{try{f(b.m(...k))}catch(m){g(m)}}:g;a.decode&&(a.decode=f);a.loading==="lazy"&&(a.loading="eager");d?(a.srcset="",a.src=e):a.href.baseVal=e})}})}
function pa(a,b){return t(function*(){const d=w(a.childNodes).map(c=>T(c,b));yield Promise.all(d).then(()=>a)})}function T(a,b){return t(function*(){E(a,Element)&&(yield na(a,b),yield oa(a,b),yield pa(a,b))})};const U={};function V(a){return t(function*(){var b=U[a];if(b!=null)return b;b=yield(yield fetch(a)).text();b={url:a,cssText:b};return U[a]=b})}function W(a,b){return t(function*(){let d=a.cssText;const c=/url\(["']?([^"')]+)["']?\)/g,e=(d.match(/url\([^)]+\)/g)||[]).map(f=>t(function*(){let g=f.replace(c,"$1");g.startsWith("https://")||(g=(new URL(g,a.url)).href);return I(g,b.i,({result:k})=>{d=d.replace(f,`url(${k})`);return[f,k]})}));return Promise.all(e).then(()=>d)})}
function X(a){if(a==null)return[];const b=[];a=a.replace(/(\/\*[\s\S]*?\*\/)/gi,"");for(var d=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){var c=d.exec(a);if(c===null)break;b.push(c[0])}a=a.replace(d,"");d=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi;for(c=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){let e=d.exec(a);if(e===null)if(e=c.exec(a),e===null)break;else d.lastIndex=c.lastIndex;else c.lastIndex=
d.lastIndex;b.push(e[0])}return b}
function qa(a,b){return t(function*(){const d=[],c=[];a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach((f,g)=>{if(f.type===CSSRule.IMPORT_RULE){let k=g+1;f=V(f.href).then(m=>W(m,b)).then(m=>X(m).forEach(q=>{try{e.insertRule(q,q.startsWith("@import")?k+=1:e.cssRules.length)}catch(Ca){}})).catch(()=>{});c.push(f)}})}catch(f){const g=a.find(k=>k.href==null)||document.styleSheets[0];e.href!=null&&c.push(V(e.href).then(k=>W(k,b)).then(k=>X(k).forEach(m=>{g.insertRule(m,g.cssRules.length)})).catch(()=>
{}))}});return Promise.all(c).then(()=>{a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach(f=>{d.push(f)})}catch(f){}});return d})})}function ra(a){return a.filter(b=>b.type===CSSRule.FONT_FACE_RULE).filter(b=>b.style.getPropertyValue("src").search(Q)!==-1)}function sa(a,b){return t(function*(){if(a.ownerDocument==null)throw Error("Provided element is not within a Document");var d=w(a.ownerDocument.styleSheets);d=yield qa(d,b);return ra(d)})}
function ta(a){function b(c){(c.style.fontFamily||getComputedStyle(c).fontFamily).split(",").forEach(e=>{d.add(e.trim().replace(/["']/g,""))});Array.from(c.children).forEach(e=>{e instanceof HTMLElement&&b(e)})}const d=new Set;b(a);return d}function ua(a,b){return t(function*(){const d=yield sa(a,b),c=ta(a);return(yield Promise.all(d.filter(e=>c.has(e.style.fontFamily.trim().replace(/["']/g,""))).map(e=>R(e.cssText,e.parentStyleSheet?e.parentStyleSheet.href:null,b)))).join("\n")})}
function va(a,b){return t(function*(){const d=b.j!=null?b.j:b.K?null:yield ua(a,b);if(d){const c=document.createElement("style");c.appendChild(document.createTextNode(d));a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)}})};function wa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b),e=yield P(a,b,!0);yield va(e,b);yield T(e,b);u(e,b);return yield D(e,d,c)})}
function xa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b);var e=yield wa(a,b);e=yield B(e);const f=document.createElement("canvas"),g=f.getContext("2d"),k=b.G||window.devicePixelRatio||1,m=b.h||d,q=b.g||c;f.width=m*k;f.height=q*k;!b.J&&(f.width>16384||f.height>16384)&&(f.width>16384&&f.height>16384?f.width>f.height?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=16384):f.width>16384?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=
16384));f.style.width=`${m}`;f.style.height=`${q}`;b.backgroundColor&&(g.fillStyle=b.backgroundColor,g.fillRect(0,0,f.width,f.height));g.drawImage(e,0,0,f.width,f.height);return f})}function Y(a,b={}){return t(function*(){return(yield xa(a,b)).toDataURL()})};const ya=["gemini.google.com","corp.google.com"];function Z(){return document.body.querySelectorAll('[class*="animate"]').length>0}function za(){return t(function*(){const a=document.body.offsetWidth,b=document.body.offsetHeight,d=document.body.cloneNode(!0);d.querySelectorAll('[class*="animate"]').forEach(c=>{c.classList.remove(...Array.from(c.classList).filter(e=>e.startsWith("animate")))});d.style.width=`${a}px`;d.style.height=`${b}px`;return d})}
function Aa(a){return t(function*(){let b=document.body;if(Z()){var d=yield za();b=d;document.body.appendChild(d)}d=yield Y(b,{h:b.offsetWidth,g:b.offsetHeight});Z()&&document.body.removeChild(b);window.parent.postMessage({type:"SEND_SCREENSHOT",image:d,topOffset:document.documentElement.scrollTop},a.origin)})}
function Ba(a){return t(function*(){var b=document.body;b={type:"SEND_SCREENSHOT_FOR_DATA_VISUALIZATION",image:yield Y(b,{h:b.offsetWidth,g:b.offsetHeight}),topOffset:0};window.parent.postMessage(b,a.origin)})}window.addEventListener("message",a=>t(function*(){if(ya.some(d=>a.origin.includes(d))){var b=a.data;b&&(b.type==="MAKE_SCREENSHOT"&&(yield Aa(a)),b.type==="MAKE_SCREENSHOT_FOR_DATA_VISUALIZATION"&&(yield Ba(a)))}}));
</script><script>(function() {
  // Ensure this script is executed only once
  if (window.firebaseAuthBridgeScriptLoaded) {
    return;
  }
  window.firebaseAuthBridgeScriptLoaded = true;

  let nextTokenPromiseId = 0;

  // Stores { resolve, reject } for ongoing token requests
  const pendingTokenPromises = {};

  // Listen for messages from the Host Application
  window.addEventListener('message', function(event) {

    const messageData = event.data;

  if (messageData && messageData.type === 'RESOLVE_NEW_FIREBASE_TOKEN') {
      const { success, token, error, promiseId } = messageData ?? {};
      if (pendingTokenPromises[promiseId]) {
        if (success) {
          pendingTokenPromises[promiseId].resolve(token);
        } else {
          pendingTokenPromises[promiseId].reject(new Error(error || 'Token refresh failed from host.'));
        }
        delete pendingTokenPromises[promiseId];
      }
    }
  });

  // Expose a function for the Generated App to request a new Firebase token
  window.requestNewFirebaseToken = function() {
    const currentPromiseId = nextTokenPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingTokenPromises[currentPromiseId] = { resolve, reject };
    });
    if (window.parent && window.parent !== window) {
      window.parent.postMessage({
        type: 'REQUEST_NEW_FIREBASE_TOKEN',
        promiseId: currentPromiseId
      }, '*');
    } else {
      pendingTokenPromises[currentPromiseId].reject(new Error('No parent window to request token from.'));
      delete pendingTokenPromises[currentPromiseId];
    }
    return promise;
  };
})();</script><script>
let realOriginalGetUserMedia = null;
if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
  realOriginalGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
}

(function() {
  if (navigator.mediaDevices && navigator.mediaDevices.__proto__) {
    try {
      Object.defineProperty(navigator.mediaDevices.__proto__, 'getUserMedia', {
        get: function() {
          return undefined; // Or throw an error
        },
        configurable: false
      });
    } catch (error) {
      console.error("Error defining prototype getter:", error);
    }
  }
})();

(function() {
  const pendingMediaResolvers = {};
  let nextMediaPromiseId = 0;

  function requestMediaPermissions(constraints) {
    const mediaPromiseId = nextMediaPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingMediaResolvers[mediaPromiseId] = (granted) => {
        delete pendingMediaResolvers[mediaPromiseId];
        resolve(granted);
      };
    });

    window.parent.postMessage({
      type: 'requestMediaPermission',
      constraints: constraints,
      promiseId: mediaPromiseId,
    }, '*');

    return promise;
  }

  let originalGetUserMedia = realOriginalGetUserMedia;

  function interceptGetUserMedia() {
    if (navigator.mediaDevices) {
      Object.defineProperty(navigator.mediaDevices, 'getUserMedia', {
        value: function(constraints) {
          return requestMediaPermissions(constraints).then((granted) => {
            if (granted) {
              if (originalGetUserMedia) {
                return originalGetUserMedia(constraints);
              } else {
                throw new Error("Original getUserMedia not available.");
              }
            } else {
              throw new DOMException('Permission denied', 'NotAllowedError');
            }
          });
        },
        writable: false,
        configurable: false
      });
    }
  }

  interceptGetUserMedia();

  const observer = new MutationObserver(function(mutationsList, observer) {
    for (const mutation of mutationsList) {
      if (mutation.type === 'reconfigured' && mutation.name === 'getUserMedia' && mutation.object === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'attributes' && mutation.attributeName === 'getUserMedia' && mutation.target === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'childList' && mutation.addedNodes) {
        mutation.addedNodes.forEach(node => {
          if (node === navigator.mediaDevices) {
            interceptGetUserMedia();
          }
        });
      }
    }
  });

  function interceptSpeechRecognition() {
    if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {
      return;
    }

    const OriginalSpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    const SpeechRecognitionWrapper = function(...args) {
      const recognizer = new OriginalSpeechRecognition(...args);
      const originalStart = recognizer.start.bind(recognizer);

      recognizer.start = function() {
        requestMediaPermissions({ audio: true }).then(granted => {
          if (granted) {
            originalStart();
          } else {
            const errorEvent = new SpeechRecognitionErrorEvent('error');
            errorEvent.error = 'not-allowed'; // This is the standard error for permission denial.
            recognizer.dispatchEvent(errorEvent);
          }
        });
      };

      return recognizer;
    };

    SpeechRecognitionWrapper.prototype = OriginalSpeechRecognition.prototype;
    SpeechRecognitionWrapper.prototype.constructor = SpeechRecognitionWrapper;

    if (window.SpeechRecognition) {
      window.SpeechRecognition = SpeechRecognitionWrapper;
    }
    if (window.webkitSpeechRecognition) {
      window.webkitSpeechRecognition = SpeechRecognitionWrapper;
    }
  }

  interceptSpeechRecognition();

  window.addEventListener('message', function(event) {
    if (event.data) {
      if (event.data.type === 'resolveMediaPermission') {
        const { promiseId, granted } = event.data;
        if (pendingMediaResolvers[promiseId]) {
          pendingMediaResolvers[promiseId](granted);
        }
      }
    }
  });

})();</script><script>((function(modelInformation) {
  const originalFetch = window.fetch;
  // TODO: b/421908508 - Move these out of the script and match all generative AI model calls.
  let googleLlmBaseApiUrls = [
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':streamGenerateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageEditModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.ttsModelName + ':generateContent',
  ];
  modelInformation.deprecatedTextModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':streamGenerateContent',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':generateContent',
    );
  });

  const pendingFetchResolvers = {};
  let nextPromiseId = 0;

  function handleStringInput(input, optionsArgument) {
    const actualUrl = input;
    const fetchCallArgs = [actualUrl, optionsArgument];
    const effectiveOptions = optionsArgument || {};
    const bodyForApiKeyCheck = effectiveOptions.body;
    const bodyForPostMessage = effectiveOptions.body;
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  function handleRequestInput(input, optionsArgument) {
    const actualUrl = input.url;
    const fetchCallArgs = [input, optionsArgument];
    const effectiveOptions = { method: input.method, headers: new Headers(input.headers) };
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (optionsArgument) {
      if (optionsArgument.method) effectiveOptions.method = optionsArgument.method;
      if (optionsArgument.headers) effectiveOptions.headers = new Headers(optionsArgument.headers);
      if ('body' in optionsArgument) {
        bodyForApiKeyCheck = optionsArgument.body;
        bodyForPostMessage = optionsArgument.body;
      } else {
        bodyForApiKeyCheck = undefined;
        bodyForPostMessage = input.body;
      }
    } else {
      bodyForApiKeyCheck = undefined;
      bodyForPostMessage = input.body;
    }
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  window.fetch = function(input, optionsArgument) {
    let actualUrl;
    let fetchCallArgs;
    let effectiveOptions = {};
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (typeof input === 'string') {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleStringInput(input, optionsArgument));
    } else if (input instanceof Request) {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleRequestInput(input, optionsArgument));
    } else {
      return originalFetch.apply(window, [input, optionsArgument]);
    }

    effectiveOptions.method = effectiveOptions.method || 'GET';
    if (!effectiveOptions.headers) {
      effectiveOptions.headers = new Headers();
    }


    if (typeof actualUrl === 'string' && googleLlmBaseApiUrls.some((url) => actualUrl.startsWith(url))) {
      let apiKeyIsNull = true;

      const regex = new RegExp("models/([^:]+)");
      const modelNameMatch = actualUrl.match(regex);
      const modelName = modelNameMatch ? modelNameMatch[1] : 'unspecified';


      try {
        const urlObject = new URL(actualUrl);  // Use URL object for robust parsing
        const apiKeyParam = urlObject.searchParams.get('key');
        if (apiKeyParam) {
          apiKeyIsNull = false;
        }
      } catch (e) {
        // Continue checks even if URL parsing fails
      }

      if (apiKeyIsNull && effectiveOptions.headers) {
        const h = new Headers(effectiveOptions.headers);
        const apiKeyHeaderValue = h.get('X-API-Key') || h.get('x-api-key');
        if (apiKeyHeaderValue) {
          apiKeyIsNull = false;
          return originalFetch.apply(window, fetchCallArgs);
        }
      }

      if (apiKeyIsNull && effectiveOptions.method && ['POST', 'PUT', 'PATCH'].includes(effectiveOptions.method.toUpperCase()) && typeof bodyForApiKeyCheck === 'string') {
        try {
          const bodyData = JSON.parse(bodyForApiKeyCheck);
          if (bodyData && bodyData.apiKey) {
            apiKeyIsNull = false;
            return originalFetch.apply(window, fetchCallArgs);
          }
        } catch (e) {
          // Ignore JSON parsing errors
        }
      }

      if(apiKeyIsNull) {
        const promiseId = nextPromiseId++;
        const promise = new Promise((resolve) => {
          pendingFetchResolvers[promiseId] = (resolvedResponse) => {
            delete pendingFetchResolvers[promiseId];
            resolve(resolvedResponse);
          };
        });

        let serializedBodyForPostMessage;
        if (typeof bodyForPostMessage === 'string' || bodyForPostMessage == null) {
            serializedBodyForPostMessage = bodyForPostMessage;
        } else if (bodyForPostMessage instanceof ReadableStream) {
            serializedBodyForPostMessage = null;
        } else {
            try {
                serializedBodyForPostMessage = JSON.stringify(bodyForPostMessage);
            } catch (e) {
                serializedBodyForPostMessage = null;
            }
        }

        const messageOptions = {
            method: effectiveOptions.method,
            headers: Object.fromEntries(new Headers(effectiveOptions.headers).entries()),
            body: serializedBodyForPostMessage
        };

        window.parent.postMessage({
          type: 'requestFetch',
          url: actualUrl,
          modelName: modelName,
          options: messageOptions,
          promiseId: promiseId,
        }, '*');

        return promise;
      }
      return originalFetch.apply(window, fetchCallArgs);
    }
    return originalFetch.apply(window, fetchCallArgs);
  };

  window.addEventListener('message', function(event) {
    if (event.data && event.data.type === 'resolveFetch') {
      const { promiseId, response } = event.data;
      if (pendingFetchResolvers[promiseId]) {
        try {
          const reconstructedResponse = new Response(response.body, {
            status: response.status,
            statusText: response.statusText,
            headers: new Headers(response.headers),
          });
          pendingFetchResolvers[promiseId](reconstructedResponse);
        } catch (error) {
          pendingFetchResolvers[promiseId](new Response(null, { status: 500, statusText: "Interceptor Response Reconstruction Error" }));
        }
      }
    }
  });

}))({"textModelName":"gemini-2.5-flash-preview-05-20","imageModelName":"imagen-3.0-generate-002","imageEditModelName":"gemini-2.5-flash-image-preview","videoModelName":"veo-2.0-generate-001","ttsModelName":"gemini-2.5-flash-preview-tts","deprecatedTextModelNames":["gemini-2.0-flash","gemini-2.5-flash-preview-04-17"]})</script><script>(function() {
  const originalConsoleLog = console.log;
  const originalConsoleError = console.error;

    /**
   * Normalizes an error event or a promise rejection reason into a structured error object.
   * @param {*} errorEventOrReason The error object or reason.
   * @return {object} Structured error data { message, name, stack }.
   */
  function getErrorObject(errorEventOrReason) {
    if (errorEventOrReason instanceof Error) {
      return {
        message: errorEventOrReason.message,
        name: errorEventOrReason.name,
        stack: errorEventOrReason.stack,
      };
    }
    // Fallback for non-Error objects.
    try {
      return {
        message: JSON.stringify(errorEventOrReason),
        name: 'UnknownErrorType',
        stack: null,
      };
    } catch (e) {
      return {
        message: String(errorEventOrReason),
        name: 'UnknownErrorTypeNonStringifiable',
        stack: null,
      };
    }
  }

  /**
   * Converts an array of arguments (from log/error) into a single string.
   * Handles Error objects specially to include their message and stack.
   * @param {Array<*>} args - Arguments passed to console methods.
   * @return {string} A string representation of the arguments.
   */
  function stringifyArgs(args) {
    return args
      .map((arg) => {
        if (arg instanceof Error) {
          const {message, stack} = arg;
          return `Error: ${message}${stack ? ('\nStack: ' + stack) : ''}`;
        }
        if (typeof arg === 'object' && arg !== null) {
          try {
            return JSON.stringify(arg);
          } catch (error) {
            return '[Circular Object]';
          }
        } else {
          return String(arg);
        }
      })
      .join(' ');
  }

  console.log = function(...args) {
    const logString = stringifyArgs(args);
    window.parent.postMessage({ type: 'log', message: logString }, '*');
    originalConsoleLog.apply(console, args);
  };

  console.error = function(...args) {
    let errorData;
    if (args.length > 0 && args[0] instanceof Error) {
      const err = args[0];
      // If the first arg is an Error, capture its details.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        ...getErrorObject(err),
        rawArgsString: stringifyArgs(args.slice(1)),
        timestamp: new Date().toISOString(),
      };
    } else {
      // If not an Error object, treat all args as a general error message.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        message: stringifyArgs(args),
        name: 'ConsoleLoggedError',
        stack: null,
        timestamp: new Date().toISOString(),
      };
    }
    window.parent.postMessage(errorData, '*');
    originalConsoleError.apply(console, args);
  };

  // Listen for global unhandled synchronous errors.
  window.addEventListener('error', function(event) {
    const errorDetails = event.error ? getErrorObject(event.error) : {
      message: event.message,
      name: 'GlobalError',
      stack: null,
      filename: event.filename,
      lineno: event.lineno,
      colno: event.colno,
    };

    window.parent.postMessage({
      type: 'error',
      source: 'global',
      ...errorDetails,
      message: errorDetails.message || event.message,
      timestamp: new Date().toISOString(),
    }, '*');
  });

  // Listen for unhandled promise rejections (asynchronous errors).
  window.addEventListener('unhandledrejection', function(event) {
    const errorDetails = getErrorObject(event.reason);

    window.parent.postMessage({
      type: 'error',
      source: 'unhandledrejection',
      ...errorDetails,
      message: errorDetails.message || 'Unhandled Promise Rejection',
      timestamp: new Date().toISOString(),
    }, '*');
  });

})();</script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DAN'S KOST MANAGEMENT</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com/"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest" crossorigin="anonymous"></script>
    
    <!-- Custom Styles -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .sidebar-link {
            transition: all 0.2s ease-in-out;
        }
        .sidebar-link:hover, .sidebar-link.active {
            background-color: #4f46e5;
            color: white;
        }
        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.5);
        }
        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0px}.top-0{top:0px}.z-10{z-index:10}.z-50{z-index:50}.col-span-1{grid-column:span 1 / span 1}.col-span-2{grid-column:span 2 / span 2}.col-span-3{grid-column:span 3 / span 3}.m-4{margin:1rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-2{margin-bottom:0.5rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-2{margin-left:0.5rem}.ml-3{margin-left:0.75rem}.ml-4{margin-left:1rem}.mr-2{margin-right:0.5rem}.mt-1{margin-top:0.25rem}.mt-2{margin-top:0.5rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-12{height:3rem}.h-16{height:4rem}.h-24{height:6rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-8{height:2rem}.h-screen{height:100vh}.max-h-\[70vh\]{max-height:70vh}.min-h-screen{min-height:100vh}.w-12{width:3rem}.w-16{width:4rem}.w-24{width:6rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-8{width:2rem}.w-full{width:100%}.max-w-lg{max-width:32rem}.max-w-md{max-width:28rem}.max-w-sm{max-width:24rem}.flex-1{flex:1 1 0%}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.appearance-none{-webkit-appearance:none;appearance:none}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.-space-y-px > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(-1px * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(-1px * var(--tw-space-y-reverse))}.space-y-1 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.25rem * var(--tw-space-y-reverse))}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-8 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.rounded-none{border-radius:0px}.rounded-xl{border-radius:0.75rem}.rounded-b-md{border-bottom-right-radius:0.375rem;border-bottom-left-radius:0.375rem}.rounded-t-md{border-top-left-radius:0.375rem;border-top-right-radius:0.375rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-700{--tw-border-opacity:1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.border-green-200{--tw-border-opacity:1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1))}.border-indigo-200{--tw-border-opacity:1;border-color:rgb(199 210 254 / var(--tw-border-opacity, 1))}.border-red-200{--tw-border-opacity:1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1))}.border-transparent{border-color:transparent}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-blue-100{--tw-bg-opacity:1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity:1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-50{--tw-bg-opacity:1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity:1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-indigo-100{--tw-bg-opacity:1;background-color:rgb(224 231 255 / var(--tw-bg-opacity, 1))}.bg-indigo-50{--tw-bg-opacity:1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1))}.bg-indigo-600{--tw-bg-opacity:1;background-color:rgb(79 70 229 / var(--tw-bg-opacity, 1))}.bg-orange-100{--tw-bg-opacity:1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1))}.bg-red-100{--tw-bg-opacity:1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-red-50{--tw-bg-opacity:1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity:1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-red-600{--tw-bg-opacity:1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.bg-slate-100{--tw-bg-opacity:1;background-color:rgb(241 245 249 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-500{--tw-bg-opacity:1;background-color:rgb(234 179 8 / var(--tw-bg-opacity, 1))}.bg-cover{background-size:cover}.bg-center{background-position:center}.object-cover{object-fit:cover}.p-10{padding:2.5rem}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.pt-4{padding-top:1rem}.text-left{text-align:left}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-extrabold{font-weight:800}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.leading-4{line-height:1rem}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity:1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity:1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.text-green-800{--tw-text-opacity:1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.text-indigo-600{--tw-text-opacity:1;color:rgb(79 70 229 / var(--tw-text-opacity, 1))}.text-indigo-700{--tw-text-opacity:1;color:rgb(67 56 202 / var(--tw-text-opacity, 1))}.text-indigo-800{--tw-text-opacity:1;color:rgb(55 48 163 / var(--tw-text-opacity, 1))}.text-orange-500{--tw-text-opacity:1;color:rgb(249 115 22 / var(--tw-text-opacity, 1))}.text-orange-600{--tw-text-opacity:1;color:rgb(234 88 12 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity:1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-red-700{--tw-text-opacity:1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.text-red-800{--tw-text-opacity:1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.placeholder-gray-500::placeholder{--tw-placeholder-opacity:1;color:rgb(107 114 128 / var(--tw-placeholder-opacity, 1))}.opacity-50{opacity:0.5}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition{transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-50:hover{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\:bg-green-600:hover{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.hover\:bg-green-700:hover{--tw-bg-opacity:1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\:bg-indigo-700:hover{--tw-bg-opacity:1;background-color:rgb(67 56 202 / var(--tw-bg-opacity, 1))}.hover\:bg-red-600:hover{--tw-bg-opacity:1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.hover\:bg-red-700:hover{--tw-bg-opacity:1;background-color:rgb(185 28 28 / var(--tw-bg-opacity, 1))}.hover\:bg-yellow-600:hover{--tw-bg-opacity:1;background-color:rgb(202 138 4 / var(--tw-bg-opacity, 1))}.hover\:text-gray-600:hover{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.focus\:z-10:focus{z-index:10}.focus\:border-indigo-500:focus{--tw-border-opacity:1;border-color:rgb(99 102 241 / var(--tw-border-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-indigo-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(99 102 241 / var(--tw-ring-opacity, 1))}.focus\:ring-offset-2:focus{--tw-ring-offset-width:2px}@media (min-width: 640px){.sm\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.sm\:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm\:text-sm{font-size:0.875rem;line-height:1.25rem}}@media (min-width: 768px){.md\:col-span-2{grid-column:span 2 / span 2}.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.md\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}}@media (min-width: 1024px){.lg\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.lg\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}.lg\:px-8{padding-left:2rem;padding-right:2rem}}</style></head>
<body class="bg-slate-100">

    <!-- Login Screen -->
    <div id="login-screen" class="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8 relative bg-cover bg-center" style="background-image: url(&#39;https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&amp;w=2670&amp;auto=format&amp;fit=crop&#39;);">
        <div class="absolute inset-0 bg-black opacity-50"></div>
        <div class="max-w-md w-full space-y-8 p-10 bg-white rounded-xl shadow-lg relative z-10">
            <div>
                <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">
                    DANS KOST MANAGEMENT
                </h2>
                <p class="mt-2 text-center text-sm text-gray-600">
                    Silakan masuk untuk melanjutkan
                </p>
            </div>
            <form class="mt-8 space-y-6" onsubmit="handleLogin(event)">
                <input type="hidden" name="remember" value="true">
                <div class="rounded-md shadow-sm -space-y-px">
                    <div>
                        <label for="username" class="sr-only">Username</label>
                        <input id="username" name="username" type="text" required="" class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Username" value="admin">
                    </div>
                    <div>
                        <label for="password" class="sr-only">Password</label>
                        <input id="password" name="password" type="password" required="" class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Password" value="password">
                    </div>
                </div>

                <div>
                    <button type="submit" class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                        Masuk
                    </button>
                </div>
                <p id="login-error" class="text-center text-sm text-red-500 hidden">Username atau password salah.</p>
            </form>
        </div>
    </div>

    <!-- Tenant Complaint View -->
    <div id="tenant-view-container" class="hidden min-h-screen flex items-center justify-center bg-slate-100 p-4">
        <div class="max-w-md w-full space-y-6 p-10 bg-white rounded-xl shadow-lg text-center">
            <div class="flex justify-center">
                <div class="h-16 w-16 bg-indigo-100 rounded-full flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="message-square-warning" class="lucide lucide-message-square-warning h-8 w-8 text-indigo-600"><path d="M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"></path><path d="M12 15h.01"></path><path d="M12 7v4"></path></svg>
                </div>
            </div>
            <div>
                <h2 class="text-2xl font-bold text-gray-900">
                    Layanan Pengaduan DAN'S KOST
                </h2>
                <p class="mt-2 text-sm text-gray-600">
                    Jika Anda memiliki keluhan atau laporan mengenai fasilitas, silakan klik tombol di bawah untuk menghubungi admin via WhatsApp.
                </p>
            </div>
            <div>
                <button onclick="sendComplaintReport()" class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="send" class="lucide lucide-send mr-2"><path d="M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"></path><path d="m21.854 2.147-10.94 10.939"></path></svg>
                    Buat Laporan via WhatsApp
                </button>
            </div>
        </div>
    </div>

    <!-- Main Application Container -->
    <div id="app-container" class="hidden">
        <div class="flex h-screen bg-gray-200">
            <!-- Sidebar -->
            <aside class="w-64 bg-gray-800 text-white flex flex-col">
                <div class="h-16 flex items-center justify-center text-2xl font-bold border-b border-gray-700">
                    DAN'S KOST
                </div>
                <nav class="flex-1 px-4 py-4 space-y-2">
                    <a href="blob:https://2ymo5f2kscw8e2zkfvuu7fb2sesq1y29wqz6lyqpukxv0kjmd2-h802130808.scf.usercontent.goog/33c1e66d-c695-43e5-b6ee-c3d59d10b553#" onclick="switchView(&#39;dashboard&#39;)" class="sidebar-link active flex items-center px-4 py-2 rounded-md">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="layout-dashboard" class="lucide lucide-layout-dashboard"><rect width="7" height="9" x="3" y="3" rx="1"></rect><rect width="7" height="5" x="14" y="3" rx="1"></rect><rect width="7" height="9" x="14" y="12" rx="1"></rect><rect width="7" height="5" x="3" y="16" rx="1"></rect></svg> <span class="ml-3">Dashboard</span>
                    </a>
                    <a href="blob:https://2ymo5f2kscw8e2zkfvuu7fb2sesq1y29wqz6lyqpukxv0kjmd2-h802130808.scf.usercontent.goog/33c1e66d-c695-43e5-b6ee-c3d59d10b553#" onclick="switchView(&#39;tenants&#39;)" class="sidebar-link flex items-center px-4 py-2 rounded-md">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="users" class="lucide lucide-users"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg> <span class="ml-3">Manajemen Penyewa</span>
                    </a>
                    <a href="blob:https://2ymo5f2kscw8e2zkfvuu7fb2sesq1y29wqz6lyqpukxv0kjmd2-h802130808.scf.usercontent.goog/33c1e66d-c695-43e5-b6ee-c3d59d10b553#" onclick="switchView(&#39;finance&#39;)" class="sidebar-link flex items-center px-4 py-2 rounded-md">
                       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="banknote" class="lucide lucide-banknote"><rect width="20" height="12" x="2" y="6" rx="2"></rect><circle cx="12" cy="12" r="2"></circle><path d="M6 12h.01M18 12h.01"></path></svg> <span class="ml-3">Keuangan</span>
                    </a>
                     <a href="blob:https://2ymo5f2kscw8e2zkfvuu7fb2sesq1y29wqz6lyqpukxv0kjmd2-h802130808.scf.usercontent.goog/33c1e66d-c695-43e5-b6ee-c3d59d10b553#" onclick="switchView(&#39;maintenance&#39;)" class="sidebar-link flex items-center px-4 py-2 rounded-md">
                       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="air-vent" class="lucide lucide-air-vent"><path d="M18 17.5a2.5 2.5 0 1 1-4 2.03V12"></path><path d="M6 12H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><path d="M6 8h12"></path><path d="M6.6 15.572A2 2 0 1 0 10 17v-5"></path></svg> <span class="ml-3">Pemeliharaan AC</span>
                    </a>
                    <a href="blob:https://2ymo5f2kscw8e2zkfvuu7fb2sesq1y29wqz6lyqpukxv0kjmd2-h802130808.scf.usercontent.goog/33c1e66d-c695-43e5-b6ee-c3d59d10b553#" onclick="switchView(&#39;settings&#39;)" class="sidebar-link flex items-center px-4 py-2 rounded-md">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="settings" class="lucide lucide-settings"><path d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"></path><circle cx="12" cy="12" r="3"></circle></svg> <span class="ml-3">Pengaturan</span>
                    </a>
                </nav>
                <div class="p-4 border-t border-gray-700">
                     <a href="blob:https://2ymo5f2kscw8e2zkfvuu7fb2sesq1y29wqz6lyqpukxv0kjmd2-h802130808.scf.usercontent.goog/33c1e66d-c695-43e5-b6ee-c3d59d10b553#" onclick="handleLogout()" class="sidebar-link flex items-center px-4 py-2 rounded-md">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="log-out" class="lucide lucide-log-out"><path d="m16 17 5-5-5-5"></path><path d="M21 12H9"></path><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path></svg> <span class="ml-3">Keluar</span>
                    </a>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="flex-1 flex flex-col overflow-hidden">
                <header class="h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6">
                    <h1 id="header-title" class="text-xl font-semibold text-gray-700">Dashboard</h1>
                    <div class="text-sm text-gray-500">Selamat Datang, <span id="user-display" class="font-medium text-gray-800">Admin</span>!</div>
                </header>

                <div class="flex-1 overflow-x-hidden overflow-y-auto bg-slate-100 p-6">
                    
                    <!-- Dashboard View -->
                    <div id="dashboard-view">
                        <!-- Stat Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                            <div class="bg-white p-6 rounded-lg shadow-md flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500">Jumlah Properti Kamar</p>
                                    <p id="total-rooms" class="text-3xl font-bold text-gray-800">0</p>
                                </div>
                                <div class="bg-indigo-100 text-indigo-600 p-3 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="bed-double" class="lucide lucide-bed-double"><path d="M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8"></path><path d="M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4"></path><path d="M12 4v6"></path><path d="M2 18h20"></path></svg></div>
                            </div>
                             <div class="bg-white p-6 rounded-lg shadow-md flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500">Kamar Terisi</p>
                                    <p id="occupied-rooms" class="text-3xl font-bold text-green-600">0</p>
                                </div>
                                <div class="bg-green-100 text-green-600 p-3 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="user-check" class="lucide lucide-user-check"><path d="m16 11 2 2 4-4"></path><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle></svg></div>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow-md flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500">Kamar Kosong</p>
                                    <p id="empty-rooms" class="text-3xl font-bold text-orange-500">0</p>
                                </div>
                                <div class="bg-orange-100 text-orange-600 p-3 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="door-open" class="lucide lucide-door-open"><path d="M11 20H2"></path><path d="M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z"></path><path d="M11 4H8a2 2 0 0 0-2 2v14"></path><path d="M14 12h.01"></path><path d="M22 20h-3"></path></svg></div>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow-md flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500">Tingkat Hunian</p>
                                    <p id="occupancy-rate" class="text-3xl font-bold text-blue-600">0%</p>
                                </div>
                                 <div class="bg-blue-100 text-blue-600 p-3 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="pie-chart" class="lucide lucide-pie-chart"><path d="M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z"></path><path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path></svg></div>
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div class="mt-8 bg-white p-6 rounded-lg shadow-md">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Aksi Cepat</h3>
                            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4">
                                <button onclick="openModal(&#39;add-tenant-modal&#39;)" class="flex items-center justify-center w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition duration-300">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="user-plus" class="lucide lucide-user-plus"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><line x1="19" x2="19" y1="8" y2="14"></line><line x1="22" x2="16" y1="11" y2="11"></line></svg><span class="ml-2">Tambah Penyewa Baru</span>
                                </button>
                                <button onclick="openModal(&#39;send-invoice-modal&#39;)" class="flex items-center justify-center w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition duration-300">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="send" class="lucide lucide-send"><path d="M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"></path><path d="m21.854 2.147-10.94 10.939"></path></svg><span class="ml-2">Kirim Invoice</span>
                                </button>
                                 <button onclick="sendComplaintReport()" class="flex items-center justify-center w-full bg-yellow-500 text-white py-3 rounded-lg hover:bg-yellow-600 transition duration-300">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="message-square-warning" class="lucide lucide-message-square-warning"><path d="M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"></path><path d="M12 15h.01"></path><path d="M12 7v4"></path></svg><span class="ml-2">Laporan Pengaduan</span>
                                </button>
                                 <button onclick="openModal(&#39;add-property-modal&#39;)" class="flex items-center justify-center w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-300">
                                   <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="building" class="lucide lucide-building"><path d="M12 10h.01"></path><path d="M12 14h.01"></path><path d="M12 6h.01"></path><path d="M16 10h.01"></path><path d="M16 14h.01"></path><path d="M16 6h.01"></path><path d="M8 10h.01"></path><path d="M8 14h.01"></path><path d="M8 6h.01"></path><path d="M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3"></path><rect x="4" y="2" width="16" height="20" rx="2"></rect></svg><span class="ml-2">Tambah Properti Baru</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Financial & Payment Status -->
                        <div class="mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div class="bg-white p-6 rounded-lg shadow-md">
                                <h3 class="text-lg font-semibold text-gray-800 mb-4">Aktivitas Finansial (Bulan Ini)</h3>
                                <div class="space-y-4">
                                    <div class="flex justify-between items-center">
                                        <p class="text-gray-600">Total Pemasukan</p>
                                        <p id="monthly-income" class="font-semibold text-green-600 text-xl">Rp 0</p>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <p class="text-gray-600">Total Pengeluaran</p>
                                        <p id="monthly-expense" class="font-semibold text-red-600 text-xl">Rp 0</p>
                                    </div>
                                    <hr>
                                    <div class="flex justify-between items-center">
                                        <p class="text-gray-800 font-bold">Laba Bersih</p>
                                        <p id="monthly-profit" class="font-bold text-indigo-600 text-xl">Rp 0</p>
                                    </div>
                                </div>
                            </div>
                             <div class="bg-white p-6 rounded-lg shadow-md">
                                <h3 class="text-lg font-semibold text-gray-800 mb-4">Status Pembayaran Penyewa</h3>
                                <div class="overflow-x-auto">
                                    <table class="w-full text-sm text-left">
                                        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                            <tr>
                                                <th class="px-4 py-3">Nama</th>
                                                <th class="px-4 py-3">Kamar</th>
                                                <th class="px-4 py-3">Status</th>
                                            </tr>
                                        </thead>
                                        <tbody id="payment-status-table">
                                            <!-- Data will be populated by JS -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- Tenants View -->
                    <div id="tenants-view" class="hidden">
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <div class="flex justify-between items-center mb-4">
                                <h2 class="text-xl font-semibold text-gray-800">Data Penyewa &amp; Penghuni</h2>
                                <button onclick="openModal(&#39;add-tenant-modal&#39;)" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition duration-300 flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="user-plus" class="lucide lucide-user-plus"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><line x1="19" x2="19" y1="8" y2="14"></line><line x1="22" x2="16" y1="11" y2="11"></line></svg><span class="ml-2">Tambah Penyewa</span>
                                </button>
                            </div>
                            <div class="overflow-x-auto">
                                <table class="w-full text-sm text-left text-gray-500">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3">Nama</th>
                                            <th class="px-6 py-3">Kamar</th>
                                            <th class="px-6 py-3">No. KTP</th>
                                            <th class="px-6 py-3">No. WhatsApp</th>
                                            <th class="px-6 py-3">Tgl Masuk</th>
                                            <th class="px-6 py-3">Status Bayar</th>
                                            <th class="px-6 py-3 text-center">Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tenants-table-body">
                                        <!-- Tenant data rows will be inserted here by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Finance View -->
                    <div id="finance-view" class="hidden">
                         <div class="bg-white p-6 rounded-lg shadow-md">
                            <div class="flex flex-wrap justify-between items-center mb-6 gap-4">
                                <h2 class="text-xl font-semibold text-gray-800">Laporan Keuangan</h2>
                                <div class="flex items-center gap-4">
                                    <button onclick="downloadReport(&#39;word&#39;)" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-300 flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="file-text" class="lucide lucide-file-text"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M10 9H8"></path><path d="M16 13H8"></path><path d="M16 17H8"></path></svg><span class="ml-2">Download Word</span>
                                    </button>
                                     <button onclick="downloadReport(&#39;pdf&#39;)" class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition duration-300 flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="file-text" class="lucide lucide-file-text"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M10 9H8"></path><path d="M16 13H8"></path><path d="M16 17H8"></path></svg><span class="ml-2">Download PDF</span>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Financial Summary -->
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                                <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                                    <p class="text-sm text-green-700">Pendapatan Total</p>
                                    <p id="finance-total-income" class="text-2xl font-bold text-green-800">Rp 0</p>
                                </div>
                                <div class="bg-red-50 p-4 rounded-lg border border-red-200">
                                    <p class="text-sm text-red-700">Pengeluaran Total</p>
                                    <p id="finance-total-expense" class="text-2xl font-bold text-red-800">Rp 0</p>
                                </div>
                                <div class="bg-indigo-50 p-4 rounded-lg border border-indigo-200">
                                    <p class="text-sm text-indigo-700">Laba Bersih</p>
                                    <p id="finance-net-profit" class="text-2xl font-bold text-indigo-800">Rp 0</p>
                                </div>
                            </div>

                            <!-- Transaction Tables -->
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                <div>
                                    <div class="flex justify-between items-center mb-4">
                                        <h3 class="font-semibold text-gray-700">Rekapitulasi Pendapatan</h3>
                                        <button onclick="openModal(&#39;add-income-modal&#39;)" class="text-sm bg-green-500 text-white px-3 py-1 rounded-md hover:bg-green-600">+</button>
                                    </div>
                                    <div class="overflow-y-auto h-64 border rounded-lg">
                                        <table class="w-full text-sm text-left">
                                            <thead class="text-xs text-gray-700 uppercase bg-gray-50 sticky top-0">
                                                <tr><th class="px-4 py-2">Tanggal</th><th class="px-4 py-2">Keterangan</th><th class="px-4 py-2">Jumlah</th><th class="px-4 py-2">Aksi</th></tr>
                                            </thead>
                                            <tbody id="income-table-body"></tbody>
                                        </table>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between items-center mb-4">
                                        <h3 class="font-semibold text-gray-700">Rekapitulasi Pengeluaran</h3>
                                        <button onclick="openModal(&#39;add-expense-modal&#39;)" class="text-sm bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600">+</button>
                                    </div>
                                    <div class="overflow-y-auto h-64 border rounded-lg">
                                        <table class="w-full text-sm text-left">
                                            <thead class="text-xs text-gray-700 uppercase bg-gray-50 sticky top-0">
                                                <tr><th class="px-4 py-2">Tanggal</th><th class="px-4 py-2">Kategori</th><th class="px-4 py-2">Jumlah</th><th class="px-4 py-2">Aksi</th></tr>
                                            </thead>
                                            <tbody id="expense-table-body"></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Maintenance View -->
                    <div id="maintenance-view" class="hidden">
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <h2 class="text-xl font-semibold text-gray-800 mb-4">Jadwal Pemeliharaan AC</h2>
                             <div class="overflow-x-auto">
                                <table class="w-full text-sm text-left text-gray-500">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3">Nomor Kamar</th>
                                            <th class="px-6 py-3">Tanggal Service Terakhir</th>
                                            <th class="px-6 py-3">Jadwal Service Selanjutnya</th>
                                            <th class="px-6 py-3">Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="maintenance-table-body">
                                        <!-- Maintenance data rows will be inserted here by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>


                    <!-- Settings View -->
                    <div id="settings-view" class="hidden">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <!-- Account Settings -->
                            <div class="bg-white p-6 rounded-lg shadow-md">
                                <h2 class="text-xl font-semibold text-gray-800 mb-4">Pengaturan Akun</h2>
                                <form id="account-settings-form" class="space-y-4">
                                    <div>
                                        <label for="setting-admin-name" class="block text-sm font-medium text-gray-700">Nama Admin</label>
                                        <input type="text" id="setting-admin-name" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                    </div>
                                    <div>
                                        <label for="setting-username" class="block text-sm font-medium text-gray-700">Username Admin</label>
                                        <input type="text" id="setting-username" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                    </div>
                                     <div>
                                        <label for="setting-admin-whatsapp" class="block text-sm font-medium text-gray-700">Nomor Kontak WhatsApp Admin</label>
                                        <input type="tel" id="setting-admin-whatsapp" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="Contoh: 628123456789">
                                    </div>
                                    <div>
                                        <label for="setting-password" class="block text-sm font-medium text-gray-700">Password Baru</label>
                                        <input type="password" id="setting-password" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="Kosongkan jika tidak ingin ganti">
                                    </div>
                                    <button type="submit" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition duration-300">Simpan Perubahan</button>
                                </form>
                            </div>
                            <!-- Payment Settings -->
                            <div class="bg-white p-6 rounded-lg shadow-md">
                                <h2 class="text-xl font-semibold text-gray-800 mb-4">Pengaturan Pembayaran</h2>
                                <form id="payment-settings-form" class="space-y-4">
                                    <div>
                                        <label for="setting-bank" class="block text-sm font-medium text-gray-700">Nama Bank</label>
                                        <input type="text" id="setting-bank" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
                                    </div>
                                     <div>
                                        <label for="setting-account-name" class="block text-sm font-medium text-gray-700">Atas Nama</label>
                                        <input type="text" id="setting-account-name" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
                                    </div>
                                    <div>
                                        <label for="setting-account-number" class="block text-sm font-medium text-gray-700">Nomor Rekening</label>
                                        <input type="text" id="setting-account-number" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">Gambar QRIS</label>
                                        <div class="mt-1 flex items-center">
                                            <img id="qris-preview" src="https://placehold.co/150x150/e2e8f0/334155?text=QRIS" alt="QRIS Preview" class="h-24 w-24 object-cover rounded-md">
                                            <input type="file" id="setting-qris" class="hidden" accept="image/*">
                                            <button type="button" onclick="document.getElementById(&#39;setting-qris&#39;).click()" class="ml-4 bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50">Ganti</button>
                                        </div>
                                    </div>
                                    <button type="submit" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition duration-300">Simpan Pengaturan Pembayaran</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Modals -->
    <!-- Add Tenant Modal -->
    <div id="add-tenant-modal" class="fixed inset-0 z-50 hidden items-center justify-center modal-backdrop">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-lg m-4">
            <div class="p-6 border-b">
                <h3 class="text-xl font-semibold">Tambah Penyewa Baru</h3>
            </div>
            <form id="add-tenant-form">
                <div class="p-6 grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[70vh] overflow-y-auto">
                    <div class="md:col-span-2">
                        <label for="tenant-name" class="block text-sm font-medium">Nama Lengkap (Sesuai KTP)</label>
                        <input type="text" id="tenant-name" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                     <div>
                        <label for="tenant-ktp-number" class="block text-sm font-medium">Nomor KTP</label>
                        <input type="number" id="tenant-ktp-number" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                    <div>
                        <label for="tenant-whatsapp" class="block text-sm font-medium">Nomor WhatsApp</label>
                        <input type="tel" id="tenant-whatsapp" required="" class="mt-1 w-full border-gray-300 rounded-md" placeholder="Contoh: 628123456789">
                    </div>
                    <div class="md:col-span-2">
                        <label for="tenant-ktp-address" class="block text-sm font-medium">Alamat Lengkap (Sesuai KTP)</label>
                        <textarea id="tenant-ktp-address" required="" rows="2" class="mt-1 w-full border-gray-300 rounded-md"></textarea>
                    </div>
                    <div>
                        <label for="tenant-room" class="block text-sm font-medium">Nomor Kamar</label>
                        <input type="number" id="tenant-room" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                    <div>
                        <label for="tenant-start-date" class="block text-sm font-medium">Tanggal Masuk</label>
                        <input type="date" id="tenant-start-date" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                    <div class="md:col-span-2">
                        <label for="tenant-inventory" class="block text-sm font-medium">Inventaris Kamar</label>
                        <textarea id="tenant-inventory" rows="3" class="mt-1 w-full border-gray-300 rounded-md" placeholder="Pisahkan dengan koma atau baris baru, contoh: Kasur, Lemari, Meja"></textarea>
                    </div>
                </div>
                <div class="px-6 py-4 bg-gray-50 flex justify-end gap-3">
                    <button type="button" onclick="closeModal(&#39;add-tenant-modal&#39;)" class="px-4 py-2 bg-gray-200 rounded-md">Batal</button>
                    <button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded-md">Simpan</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Edit Tenant Modal -->
    <div id="edit-tenant-modal" class="fixed inset-0 z-50 hidden items-center justify-center modal-backdrop">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-lg m-4">
            <div class="p-6 border-b">
                <h3 class="text-xl font-semibold">Edit Data Penyewa</h3>
            </div>
            <form id="edit-tenant-form">
                <input type="hidden" id="edit-tenant-id">
                <div class="p-6 grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[70vh] overflow-y-auto">
                     <div class="md:col-span-2">
                        <label for="edit-tenant-name" class="block text-sm font-medium">Nama Lengkap (Sesuai KTP)</label>
                        <input type="text" id="edit-tenant-name" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                     <div>
                        <label for="edit-tenant-ktp-number" class="block text-sm font-medium">Nomor KTP</label>
                        <input type="number" id="edit-tenant-ktp-number" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                    <div>
                        <label for="edit-tenant-whatsapp" class="block text-sm font-medium">Nomor WhatsApp</label>
                        <input type="tel" id="edit-tenant-whatsapp" required="" class="mt-1 w-full border-gray-300 rounded-md" placeholder="Contoh: 628123456789">
                    </div>
                    <div class="md:col-span-2">
                        <label for="edit-tenant-ktp-address" class="block text-sm font-medium">Alamat Lengkap (Sesuai KTP)</label>
                        <textarea id="edit-tenant-ktp-address" required="" rows="2" class="mt-1 w-full border-gray-300 rounded-md"></textarea>
                    </div>
                    <div>
                        <label for="edit-tenant-room" class="block text-sm font-medium">Nomor Kamar</label>
                        <input type="number" id="edit-tenant-room" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                    <div>
                        <label for="edit-tenant-start-date" class="block text-sm font-medium">Tanggal Masuk</label>
                        <input type="date" id="edit-tenant-start-date" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                    <div class="md:col-span-2">
                        <label for="edit-tenant-inventory" class="block text-sm font-medium">Inventaris Kamar</label>
                        <textarea id="edit-tenant-inventory" rows="3" class="mt-1 w-full border-gray-300 rounded-md" placeholder="Pisahkan dengan koma, contoh: Kasur, Lemari, Meja"></textarea>
                    </div>
                     <div class="md:col-span-2">
                        <label for="edit-tenant-payment-status" class="block text-sm font-medium">Status Pembayaran</label>
                        <select id="edit-tenant-payment-status" required="" class="mt-1 w-full border-gray-300 rounded-md">
                            <option value="Lunas">Lunas</option>
                            <option value="Belum Bayar">Belum Bayar</option>
                        </select>
                    </div>
                </div>
                <div class="px-6 py-4 bg-gray-50 flex justify-end gap-3">
                    <button type="button" onclick="closeModal(&#39;edit-tenant-modal&#39;)" class="px-4 py-2 bg-gray-200 rounded-md">Batal</button>
                    <button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded-md">Simpan Perubahan</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- View Tenant Details Modal -->
    <div id="view-tenant-modal" class="fixed inset-0 z-50 hidden items-center justify-center modal-backdrop">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-lg m-4">
            <div class="p-6 border-b flex justify-between items-center">
                <h3 class="text-xl font-semibold">Detail Penyewa</h3>
                <button onclick="closeModal(&#39;view-tenant-modal&#39;)" class="text-gray-400 hover:text-gray-600"></button>
            </div>
            <div class="p-6 space-y-4 max-h-[70vh] overflow-y-auto">
                <div class="grid grid-cols-3 gap-4 text-sm">
                    <div class="col-span-1 text-gray-500">Nama Lengkap</div>
                    <div id="view-tenant-name" class="col-span-2 font-medium text-gray-800"></div>
                    
                    <div class="col-span-1 text-gray-500">No. Kamar</div>
                    <div id="view-tenant-room" class="col-span-2 font-medium text-gray-800"></div>

                    <div class="col-span-1 text-gray-500">No. KTP</div>
                    <div id="view-tenant-ktp-number" class="col-span-2 font-medium text-gray-800"></div>

                    <div class="col-span-1 text-gray-500">Alamat KTP</div>
                    <div id="view-tenant-ktp-address" class="col-span-2 font-medium text-gray-800"></div>

                    <div class="col-span-1 text-gray-500">No. WhatsApp</div>
                    <div id="view-tenant-whatsapp" class="col-span-2 font-medium text-gray-800"></div>

                    <div class="col-span-1 text-gray-500">Tanggal Masuk</div>
                    <div id="view-tenant-start-date" class="col-span-2 font-medium text-gray-800"></div>
                    
                    <div class="col-span-1 text-gray-500">Status Pembayaran</div>
                    <div id="view-tenant-payment-status" class="col-span-2 font-medium text-gray-800"></div>

                    <div class="col-span-3 border-t pt-4 mt-4">
                        <h4 class="font-semibold text-gray-700 mb-2">Inventaris Kamar</h4>
                        <ul id="view-tenant-inventory" class="list-disc list-inside space-y-1 text-gray-600">
                           <!-- Inventory items will be populated here -->
                        </ul>
                    </div>
                </div>
            </div>
             <div class="px-6 py-4 bg-gray-50 flex justify-end">
                <button type="button" onclick="closeModal(&#39;view-tenant-modal&#39;)" class="px-4 py-2 bg-gray-200 rounded-md">Tutup</button>
            </div>
        </div>
    </div>


    <!-- Confirm Delete Modal -->
    <div id="confirm-delete-modal" class="fixed inset-0 z-50 hidden items-center justify-center modal-backdrop">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-sm m-4">
            <div class="p-6 text-center">
                 <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="alert-triangle" class="lucide lucide-alert-triangle h-6 w-6 text-red-600"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg>
                </div>
                <h3 class="text-lg font-medium text-gray-900 mt-5">Hapus Data Penyewa?</h3>
                <p class="text-sm text-gray-500 mt-2">
                    Apakah Anda yakin ingin menghapus data ini? Aksi ini tidak dapat dibatalkan.
                </p>
            </div>
            <div class="px-6 py-4 bg-gray-50 flex justify-center gap-3">
                <button type="button" onclick="closeModal(&#39;confirm-delete-modal&#39;)" class="px-4 py-2 bg-gray-200 rounded-md w-full">Batal</button>
                <button type="button" id="confirm-delete-btn" class="px-4 py-2 bg-red-600 text-white rounded-md w-full">Hapus</button>
            </div>
        </div>
    </div>

    <!-- Add/Edit Modals for Finance -->
    <div id="add-income-modal" class="fixed inset-0 z-50 hidden items-center justify-center modal-backdrop">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md m-4">
            <form id="add-income-form">
                <div class="p-6 border-b"><h3 class="text-xl font-semibold">Tambah Pemasukan</h3></div>
                <div class="p-6 space-y-4">
                    <div>
                        <label class="block text-sm font-medium">Tanggal</label>
                        <input type="date" id="income-date" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                    <div>
                        <label class="block text-sm font-medium">Keterangan</label>
                        <input type="text" id="income-desc" required="" class="mt-1 w-full border-gray-300 rounded-md" placeholder="e.g., Pembayaran sewa Budi Kamar 101">
                    </div>
                    <div>
                        <label class="block text-sm font-medium">Jumlah (Rp)</label>
                        <input type="number" id="income-amount" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                </div>
                <div class="px-6 py-4 bg-gray-50 flex justify-end gap-3">
                    <button type="button" onclick="closeModal(&#39;add-income-modal&#39;)" class="px-4 py-2 bg-gray-200 rounded-md">Batal</button>
                    <button type="submit" class="px-4 py-2 bg-green-600 text-white rounded-md">Simpan</button>
                </div>
            </form>
        </div>
    </div>

     <div id="add-expense-modal" class="fixed inset-0 z-50 hidden items-center justify-center modal-backdrop">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md m-4">
            <form id="add-expense-form">
                <div class="p-6 border-b"><h3 class="text-xl font-semibold">Tambah Pengeluaran</h3></div>
                <div class="p-6 space-y-4">
                    <div>
                        <label class="block text-sm font-medium">Tanggal</label>
                        <input type="date" id="expense-date" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                    <div>
                        <label class="block text-sm font-medium">Kategori</label>
                        <select id="expense-category" required="" class="mt-1 w-full border-gray-300 rounded-md">
                            <option>Pembayaran Wifi</option>
                            <option>Pembayaran Air PDAM</option>
                            <option>Listrik</option>
                            <option>Perbaikan</option>
                            <option>Lainnya</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium">Jumlah (Rp)</label>
                        <input type="number" id="expense-amount" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                </div>
                <div class="px-6 py-4 bg-gray-50 flex justify-end gap-3">
                    <button type="button" onclick="closeModal(&#39;add-expense-modal&#39;)" class="px-4 py-2 bg-gray-200 rounded-md">Batal</button>
                    <button type="submit" class="px-4 py-2 bg-red-600 text-white rounded-md">Simpan</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Edit Income Modal -->
    <div id="edit-income-modal" class="fixed inset-0 z-50 hidden items-center justify-center modal-backdrop">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md m-4">
            <form id="edit-income-form">
                <input type="hidden" id="edit-income-id">
                <div class="p-6 border-b"><h3 class="text-xl font-semibold">Edit Pemasukan</h3></div>
                <div class="p-6 space-y-4">
                    <div>
                        <label class="block text-sm font-medium">Tanggal</label>
                        <input type="date" id="edit-income-date" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                    <div>
                        <label class="block text-sm font-medium">Keterangan</label>
                        <input type="text" id="edit-income-desc" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                    <div>
                        <label class="block text-sm font-medium">Jumlah (Rp)</label>
                        <input type="number" id="edit-income-amount" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                </div>
                <div class="px-6 py-4 bg-gray-50 flex justify-end gap-3">
                    <button type="button" onclick="closeModal(&#39;edit-income-modal&#39;)" class="px-4 py-2 bg-gray-200 rounded-md">Batal</button>
                    <button type="submit" class="px-4 py-2 bg-green-600 text-white rounded-md">Simpan Perubahan</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Expense Modal -->
    <div id="edit-expense-modal" class="fixed inset-0 z-50 hidden items-center justify-center modal-backdrop">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md m-4">
            <form id="edit-expense-form">
                 <input type="hidden" id="edit-expense-id">
                <div class="p-6 border-b"><h3 class="text-xl font-semibold">Edit Pengeluaran</h3></div>
                <div class="p-6 space-y-4">
                    <div>
                        <label class="block text-sm font-medium">Tanggal</label>
                        <input type="date" id="edit-expense-date" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                    <div>
                        <label class="block text-sm font-medium">Kategori</label>
                        <select id="edit-expense-category" required="" class="mt-1 w-full border-gray-300 rounded-md">
                            <option>Pembayaran Wifi</option>
                            <option>Pembayaran Air PDAM</option>
                            <option>Listrik</option>
                            <option>Perbaikan</option>
                            <option>Lainnya</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium">Jumlah (Rp)</label>
                        <input type="number" id="edit-expense-amount" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                </div>
                <div class="px-6 py-4 bg-gray-50 flex justify-end gap-3">
                    <button type="button" onclick="closeModal(&#39;edit-expense-modal&#39;)" class="px-4 py-2 bg-gray-200 rounded-md">Batal</button>
                    <button type="submit" class="px-4 py-2 bg-red-600 text-white rounded-md">Simpan Perubahan</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Edit AC Maintenance Modal -->
    <div id="edit-ac-modal" class="fixed inset-0 z-50 hidden items-center justify-center modal-backdrop">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md m-4">
            <form id="edit-ac-form">
                <input type="hidden" id="edit-ac-room">
                <div class="p-6 border-b"><h3 class="text-xl font-semibold">Update Service AC Kamar <span id="ac-modal-room-number"></span></h3></div>
                <div class="p-6 space-y-4">
                    <div>
                        <label for="edit-ac-last-service" class="block text-sm font-medium">Tanggal Service Terakhir</label>
                        <input type="date" id="edit-ac-last-service" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                    <div>
                        <label for="edit-ac-next-service" class="block text-sm font-medium">Jadwal Service Selanjutnya</label>
                        <input type="date" id="edit-ac-next-service" required="" class="mt-1 w-full border-gray-300 rounded-md">
                    </div>
                </div>
                <div class="px-6 py-4 bg-gray-50 flex justify-end gap-3">
                    <button type="button" onclick="closeModal(&#39;edit-ac-modal&#39;)" class="px-4 py-2 bg-gray-200 rounded-md">Batal</button>
                    <button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded-md">Simpan Jadwal</button>
                </div>
            </form>
        </div>
    </div>


    <!-- Send Invoice Modal -->
    <div id="send-invoice-modal" class="fixed inset-0 z-50 hidden items-center justify-center modal-backdrop">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md m-4">
            <div class="p-6 border-b"><h3 class="text-xl font-semibold">Kirim Invoice via WhatsApp</h3></div>
            <div class="p-6 space-y-4">
                <div>
                    <label for="invoice-tenant-select" class="block text-sm font-medium">Pilih Penyewa</label>
                    <select id="invoice-tenant-select" class="mt-1 w-full border-gray-300 rounded-md"></select>
                </div>
                <div>
                    <label for="invoice-amount" class="block text-sm font-medium">Jumlah Tagihan (Rp)</label>
                    <input type="number" id="invoice-amount" placeholder="e.g., 1500000" class="mt-1 w-full border-gray-300 rounded-md">
                </div>
                 <div>
                    <label for="invoice-month" class="block text-sm font-medium">Untuk Bulan</label>
                    <input type="text" id="invoice-month" placeholder="e.g., Oktober 2025" class="mt-1 w-full border-gray-300 rounded-md">
                </div>
            </div>
            <div class="px-6 py-4 bg-gray-50 flex justify-end gap-3">
                <button type="button" onclick="closeModal(&#39;send-invoice-modal&#39;)" class="px-4 py-2 bg-gray-200 rounded-md">Batal</button>
                <button type="button" onclick="sendInvoice()" class="px-4 py-2 bg-green-600 text-white rounded-md">Kirim</button>
            </div>
        </div>
    </div>
    
    <!-- Add Property Modal -->
    <div id="add-property-modal" class="fixed inset-0 z-50 hidden items-center justify-center modal-backdrop">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md m-4">
            <form id="add-property-form">
                <div class="p-6 border-b"><h3 class="text-xl font-semibold">Tambah Properti Baru</h3></div>
                <div class="p-6 space-y-4">
                    <div>
                        <label class="block text-sm font-medium">Jumlah Kamar Baru</label>
                        <input type="number" id="new-property-count" required="" class="mt-1 w-full border-gray-300 rounded-md" min="1" value="1">
                    </div>
                </div>
                <div class="px-6 py-4 bg-gray-50 flex justify-end gap-3">
                    <button type="button" onclick="closeModal(&#39;add-property-modal&#39;)" class="px-4 py-2 bg-gray-200 rounded-md">Batal</button>
                    <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-md">Tambah</button>
                </div>
            </form>
        </div>
    </div>


    <!-- JavaScript Logic -->
    <script>
        // --- MOCK DATA & STATE ---
        let itemToDelete = { id: null, type: null };
        let state = {
            currentUser: {
                username: 'admin',
                password: 'password',
                adminName: 'Dan Admin',
                adminWhatsapp: '6281200001111'
            },
            properties: {
                totalRooms: 12,
            },
            tenants: [
                { id: 1, name: 'Budi Santoso', room: 101, whatsapp: '6281234567890', startDate: '2025-01-15', paymentStatus: 'Lunas', ktpNumber: '3201020304050001', ktpAddress: 'Jl. Merdeka No. 1, Jakarta', inventory: ['Kasur King Size', 'Lemari 2 Pintu', 'Meja Belajar', 'Kursi', 'AC 1 PK'] },
                { id: 2, name: 'Citra Lestari', room: 102, whatsapp: '6281298765432', startDate: '2025-02-20', paymentStatus: 'Lunas', ktpNumber: '3201020304050002', ktpAddress: 'Jl. Kemerdekaan No. 2, Bandung', inventory: ['Kasur Queen Size', 'Lemari 2 Pintu', 'AC 1 PK'] },
                { id: 3, name: 'Dewi Anjani', room: 201, whatsapp: '6285611112222', startDate: '2025-03-01', paymentStatus: 'Belum Bayar', ktpNumber: '3201020304050003', ktpAddress: 'Jl. Pahlawan No. 3, Surabaya', inventory: ['Kasur Single', 'Lemari', 'AC 1/2 PK'] },
                { id: 4, name: 'Eko Prasetyo', room: 203, whatsapp: '6287733334444', startDate: '2025-04-10', paymentStatus: 'Lunas', ktpNumber: '3201020304050004', ktpAddress: 'Jl. Nusantara No. 4, Medan', inventory: ['Kasur Single', 'Lemari', 'Meja', 'AC 1/2 PK'] },
            ],
            transactions: [
                 // Income
                { id: 101, type: 'income', date: '2025-09-01', description: 'Sewa Budi K.101', amount: 1500000 },
                { id: 102, type: 'income', date: '2025-09-02', description: 'Sewa Citra K.102', amount: 1500000 },
                { id: 103, type: 'income', date: '2025-09-05', description: 'Sewa Eko K.203', amount: 1300000 },
                // Expenses
                { id: 201, type: 'expense', date: '2025-09-05', category: 'Pembayaran Wifi', amount: 350000 },
                { id: 202, type: 'expense', date: '2025-09-10', category: 'Pembayaran Air PDAM', amount: 250000 },
                { id: 203, type: 'expense', date: '2025-09-15', category: 'Listrik', amount: 450000 },
            ],
            acMaintenance: [
                { room: 101, lastService: '2025-07-10', nextService: '2025-10-10' },
                { room: 102, lastService: '2025-08-15', nextService: '2025-11-15' },
                { room: 201, lastService: '2025-09-01', nextService: '2025-12-01' },
                { room: 203, lastService: '2025-09-20', nextService: '2025-12-20' },
            ],
            paymentSettings: {
                bank: 'BCA',
                accountName: 'Dan Kost Propertindo',
                accountNumber: '8881234567',
                qrisImage: 'https://placehold.co/150x150/e2e8f0/334155?text=QRIS'
            }
        };

        // --- UTILITY FUNCTIONS ---
        const formatCurrency = (amount) => new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(amount);
        const formatDate = (dateString) => {
            if (!dateString || dateString === '') return 'Belum diatur';
            return new Date(dateString).toLocaleDateString('id-ID', { day: '2-digit', month: 'long', year: 'numeric' });
        }

        // --- RENDER FUNCTIONS ---
        function renderAll() {
            renderDashboard();
            renderTenants();
            renderFinance();
            renderMaintenance();
            renderSettings();
            populateInvoiceTenantSelect();
            lucide.createIcons();
        }

        function renderDashboard() {
            const occupied = state.tenants.length;
            const total = state.properties.totalRooms;
            const empty = total - occupied;
            const rate = total > 0 ? ((occupied / total) * 100).toFixed(0) : 0;

            document.getElementById('total-rooms').textContent = total;
            document.getElementById('occupied-rooms').textContent = occupied;
            document.getElementById('empty-rooms').textContent = empty;
            document.getElementById('occupancy-rate').textContent = `${rate}%`;
            
            // Monthly Financials
            const now = new Date();
            const currentMonth = now.toISOString().slice(0, 7);
            
            const monthlyIncome = state.transactions
                .filter(t => t.type === 'income' && t.date.startsWith(currentMonth))
                .reduce((sum, t) => sum + t.amount, 0);

            const monthlyExpense = state.transactions
                .filter(t => t.type === 'expense' && t.date.startsWith(currentMonth))
                .reduce((sum, t) => sum + t.amount, 0);
                
            document.getElementById('monthly-income').textContent = formatCurrency(monthlyIncome);
            document.getElementById('monthly-expense').textContent = formatCurrency(monthlyExpense);
            document.getElementById('monthly-profit').textContent = formatCurrency(monthlyIncome - monthlyExpense);
            
            // Payment Status Table
            const paymentStatusBody = document.getElementById('payment-status-table');
            paymentStatusBody.innerHTML = '';
            state.tenants.slice(0, 4).forEach(tenant => {
                const statusClass = tenant.paymentStatus === 'Lunas' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800';
                const row = `
                    <tr class="bg-white border-b">
                        <td class="px-4 py-3 font-medium text-gray-900">${tenant.name}</td>
                        <td class="px-4 py-3">${tenant.room}</td>
                        <td class="px-4 py-3"><span class="px-2 py-1 text-xs font-medium rounded-full ${statusClass}">${tenant.paymentStatus}</span></td>
                    </tr>
                `;
                paymentStatusBody.innerHTML += row;
            });
        }

        function renderTenants() {
            const tableBody = document.getElementById('tenants-table-body');
            tableBody.innerHTML = '';
            state.tenants.forEach(tenant => {
                const statusClass = tenant.paymentStatus === 'Lunas' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800';
                const row = `
                    <tr class="bg-white border-b">
                        <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">${tenant.name}</th>
                        <td class="px-6 py-4">${tenant.room}</td>
                        <td class="px-6 py-4">${tenant.ktpNumber}</td>
                        <td class="px-6 py-4">${tenant.whatsapp}</td>
                        <td class="px-6 py-4">${formatDate(tenant.startDate)}</td>
                        <td class="px-6 py-4"><span class="px-2 py-1 text-xs font-medium rounded-full ${statusClass}">${tenant.paymentStatus}</span></td>
                        <td class="px-6 py-4">
                            <div class="flex items-center justify-center gap-2">
                                <button onclick="openViewTenantModal(${tenant.id})" class="text-blue-600 p-2 hover:bg-gray-100 rounded-md"><i data-lucide="eye" class="w-4 h-4"></i></button>
                                <button onclick="openEditModal(${tenant.id})" class="text-indigo-600 p-2 hover:bg-gray-100 rounded-md"><i data-lucide="file-pen-line" class="w-4 h-4"></i></button>
                                <button onclick="openDeleteConfirm(${tenant.id}, 'tenant')" class="text-red-600 p-2 hover:bg-gray-100 rounded-md"><i data-lucide="trash-2" class="w-4 h-4"></i></button>
                            </div>
                        </td>
                    </tr>
                `;
                tableBody.innerHTML += row;
            });
        }

        function renderFinance() {
            const totalIncome = state.transactions.filter(t => t.type === 'income').reduce((sum, t) => sum + t.amount, 0);
            const totalExpense = state.transactions.filter(t => t.type === 'expense').reduce((sum, t) => sum + t.amount, 0);
            
            document.getElementById('finance-total-income').textContent = formatCurrency(totalIncome);
            document.getElementById('finance-total-expense').textContent = formatCurrency(totalExpense);
            document.getElementById('finance-net-profit').textContent = formatCurrency(totalIncome - totalExpense);

            const incomeBody = document.getElementById('income-table-body');
            incomeBody.innerHTML = '';
            state.transactions.filter(t => t.type === 'income').forEach(t => {
                const row = `<tr class="border-b">
                    <td class="px-4 py-2">${formatDate(t.date)}</td>
                    <td class="px-4 py-2">${t.description}</td>
                    <td class="px-4 py-2 text-right">${formatCurrency(t.amount)}</td>
                    <td class="px-4 py-2 flex items-center gap-2">
                        <button onclick="openEditIncomeModal(${t.id})" class="text-indigo-600 p-1 hover:bg-gray-100 rounded-md"><i data-lucide="file-pen-line" class="w-4 h-4"></i></button>
                        <button onclick="openDeleteConfirm(${t.id}, 'transaction')" class="text-red-600 p-1 hover:bg-gray-100 rounded-md"><i data-lucide="trash-2" class="w-4 h-4"></i></button>
                    </td>
                </tr>`;
                incomeBody.innerHTML += row;
            });

            const expenseBody = document.getElementById('expense-table-body');
            expenseBody.innerHTML = '';
            state.transactions.filter(t => t.type === 'expense').forEach(t => {
                const row = `<tr class="border-b">
                    <td class="px-4 py-2">${formatDate(t.date)}</td>
                    <td class="px-4 py-2">${t.category}</td>
                    <td class="px-4 py-2 text-right">${formatCurrency(t.amount)}</td>
                     <td class="px-4 py-2 flex items-center gap-2">
                        <button onclick="openEditExpenseModal(${t.id})" class="text-indigo-600 p-1 hover:bg-gray-100 rounded-md"><i data-lucide="file-pen-line" class="w-4 h-4"></i></button>
                        <button onclick="openDeleteConfirm(${t.id}, 'transaction')" class="text-red-600 p-1 hover:bg-gray-100 rounded-md"><i data-lucide="trash-2" class="w-4 h-4"></i></button>
                    </td>
                </tr>`;
                expenseBody.innerHTML += row;
            });
        }
        
        function renderMaintenance() {
            const tableBody = document.getElementById('maintenance-table-body');
            tableBody.innerHTML = '';
            state.acMaintenance.forEach(ac => {
                 const row = `
                    <tr class="bg-white border-b">
                        <td class="px-6 py-4 font-medium">${ac.room}</td>
                        <td class="px-6 py-4">${formatDate(ac.lastService)}</td>
                        <td class="px-6 py-4">${formatDate(ac.nextService)}</td>
                        <td class="px-6 py-4">
                            <button onclick="openEditAcModal(${ac.room})" class="bg-indigo-100 text-indigo-700 px-3 py-1 rounded-md text-sm hover:bg-indigo-200">Update</button>
                        </td>
                    </tr>
                `;
                tableBody.innerHTML += row;
            });
        }

        function renderSettings() {
            document.getElementById('setting-admin-name').value = state.currentUser.adminName;
            document.getElementById('setting-username').value = state.currentUser.username;
            document.getElementById('setting-admin-whatsapp').value = state.currentUser.adminWhatsapp;
            document.getElementById('setting-bank').value = state.paymentSettings.bank;
            document.getElementById('setting-account-name').value = state.paymentSettings.accountName;
            document.getElementById('setting-account-number').value = state.paymentSettings.accountNumber;
            document.getElementById('qris-preview').src = state.paymentSettings.qrisImage;
        }

        // --- EVENT HANDLERS & LOGIC ---
        function handleLogin(event) {
            event.preventDefault();
            const username = event.target.username.value;
            const password = event.target.password.value;
            if (username === state.currentUser.username && password === state.currentUser.password) {
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('app-container').classList.remove('hidden');
                document.getElementById('user-display').textContent = state.currentUser.adminName;
                renderAll();
            } else {
                document.getElementById('login-error').classList.remove('hidden');
            }
        }

        function handleLogout() {
            document.getElementById('login-screen').classList.remove('hidden');
            document.getElementById('app-container').classList.add('hidden');
            document.getElementById('login-error').classList.add('hidden');
            document.getElementById('password').value = '';
        }

        function switchView(viewName) {
            // Hide all views
            ['dashboard', 'tenants', 'finance', 'settings', 'maintenance'].forEach(id => {
                const view = document.getElementById(`${id}-view`);
                if(view) view.classList.add('hidden');
            });
            // Deactivate all links
            document.querySelectorAll('.sidebar-link').forEach(link => {
                link.classList.remove('active');
            });

            // Show selected view
            document.getElementById(`${viewName}-view`).classList.remove('hidden');
            // Activate selected link
            document.querySelector(`a[onclick="switchView('${viewName}')"]`).classList.add('active');
            
            // Update header title
            const titles = { dashboard: 'Dashboard', tenants: 'Manajemen Penyewa', finance: 'Keuangan', settings: 'Pengaturan', maintenance: 'Pemeliharaan AC' };
            document.getElementById('header-title').textContent = titles[viewName];
        }

        function openModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
            document.getElementById(modalId).classList.add('flex');
            lucide.createIcons();
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
            document.getElementById(modalId).classList.remove('flex');
        }
        
        function sendComplaintReport() {
            const adminWhatsapp = state.currentUser.adminWhatsapp; 
            const message = encodeURIComponent('Halo Admin, saya ingin melaporkan pengaduan terkait fasilitas kost.');
            window.open(`https://wa.me/${adminWhatsapp}?text=${message}`, '_blank');
        }

        function downloadReport(format) {
            alert(`Fungsi download laporan sebagai file ${format} sedang dalam pengembangan.`);
            // In a real app, this would trigger a file generation library (e.g., jsPDF, docx)
        }
        
        function populateInvoiceTenantSelect() {
            const select = document.getElementById('invoice-tenant-select');
            select.innerHTML = '<option value="">-- Pilih Penyewa --</option>';
            state.tenants.forEach(tenant => {
                select.innerHTML += `<option value="${tenant.id}">${tenant.name} (Kamar ${tenant.room})</option>`;
            });
        }
        
        function sendInvoice() {
            const tenantId = document.getElementById('invoice-tenant-select').value;
            const amount = document.getElementById('invoice-amount').value;
            const month = document.getElementById('invoice-month').value;
            
            if (!tenantId || !amount || !month) {
                alert('Harap lengkapi semua field.');
                return;
            }
            
            const tenant = state.tenants.find(t => t.id == tenantId);
            const formattedAmount = formatCurrency(amount);
            
            const message = `
Halo ${tenant.name},
                
Kami informasikan tagihan sewa kost untuk bulan *${month}* sebesar *${formattedAmount}*.

Pembayaran dapat dilakukan melalui transfer ke:
Bank: *${state.paymentSettings.bank}*
No. Rekening: *${state.paymentSettings.accountNumber}*
Atas Nama: *${state.paymentSettings.accountName}*

Atau melalui QRIS yang terlampir.

Mohon konfirmasi setelah melakukan pembayaran.
Terima kasih.

*DAN'S KOST MANAGEMENT*
            `.trim().replace(/\n/g, '%0A').replace(/ /g, '%20');
            
            window.open(`https://wa.me/${tenant.whatsapp}?text=${message}`, '_blank');
            closeModal('send-invoice-modal');
        }

        function openViewTenantModal(tenantId) {
            const tenant = state.tenants.find(t => t.id === tenantId);
            if (!tenant) return;

            document.getElementById('view-tenant-name').textContent = tenant.name;
            document.getElementById('view-tenant-room').textContent = tenant.room;
            document.getElementById('view-tenant-ktp-number').textContent = tenant.ktpNumber;
            document.getElementById('view-tenant-ktp-address').textContent = tenant.ktpAddress;
            document.getElementById('view-tenant-whatsapp').textContent = tenant.whatsapp;
            document.getElementById('view-tenant-start-date').textContent = formatDate(tenant.startDate);
            
            const statusEl = document.getElementById('view-tenant-payment-status');
            statusEl.textContent = tenant.paymentStatus;
            statusEl.className = tenant.paymentStatus === 'Lunas' 
                ? 'px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 inline-block' 
                : 'px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800 inline-block';

            const inventoryList = document.getElementById('view-tenant-inventory');
            inventoryList.innerHTML = '';
            if (tenant.inventory && tenant.inventory.length > 0) {
                tenant.inventory.forEach(item => {
                    const li = document.createElement('li');
                    li.textContent = item;
                    inventoryList.appendChild(li);
                });
            } else {
                inventoryList.innerHTML = '<li>Tidak ada data inventaris.</li>';
            }

            openModal('view-tenant-modal');
        }

        function openEditModal(tenantId) {
            const tenant = state.tenants.find(t => t.id === tenantId);
            if (!tenant) return;

            document.getElementById('edit-tenant-id').value = tenant.id;
            document.getElementById('edit-tenant-name').value = tenant.name;
            document.getElementById('edit-tenant-ktp-number').value = tenant.ktpNumber;
            document.getElementById('edit-tenant-ktp-address').value = tenant.ktpAddress;
            document.getElementById('edit-tenant-room').value = tenant.room;
            document.getElementById('edit-tenant-whatsapp').value = tenant.whatsapp;
            document.getElementById('edit-tenant-start-date').value = tenant.startDate;
            document.getElementById('edit-tenant-inventory').value = tenant.inventory ? tenant.inventory.join(', ') : '';
            document.getElementById('edit-tenant-payment-status').value = tenant.paymentStatus;
            
            openModal('edit-tenant-modal');
        }

        function openDeleteConfirm(id, type) {
            itemToDelete = { id, type };
            const modalText = document.querySelector('#confirm-delete-modal h3');
            if (type === 'tenant') {
                modalText.textContent = 'Hapus Data Penyewa?';
            } else if (type === 'transaction') {
                modalText.textContent = 'Hapus Transaksi Ini?';
            }
            openModal('confirm-delete-modal');
        }

        function confirmDelete() {
            if (itemToDelete.id === null) return;

            if (itemToDelete.type === 'tenant') {
                 const tenantIndex = state.tenants.findIndex(t => t.id === itemToDelete.id);
                 if (tenantIndex > -1) {
                    const deletedTenant = state.tenants[tenantIndex];
                    // Remove tenant
                    state.tenants.splice(tenantIndex, 1);
                    // Remove related AC maintenance
                    state.acMaintenance = state.acMaintenance.filter(ac => ac.room != deletedTenant.room);
                 }
            } else if (itemToDelete.type === 'transaction') {
                 state.transactions = state.transactions.filter(t => t.id !== itemToDelete.id);
            }
            
            itemToDelete = { id: null, type: null };
            closeModal('confirm-delete-modal');
            renderAll();
        }
        
        function openEditIncomeModal(transactionId) {
            const trx = state.transactions.find(t => t.id === transactionId);
            if (!trx) return;

            document.getElementById('edit-income-id').value = trx.id;
            document.getElementById('edit-income-date').value = trx.date;
            document.getElementById('edit-income-desc').value = trx.description;
            document.getElementById('edit-income-amount').value = trx.amount;
            
            openModal('edit-income-modal');
        }

        function openEditExpenseModal(transactionId) {
            const trx = state.transactions.find(t => t.id === transactionId);
            if (!trx) return;

            document.getElementById('edit-expense-id').value = trx.id;
            document.getElementById('edit-expense-date').value = trx.date;
            document.getElementById('edit-expense-category').value = trx.category;
            document.getElementById('edit-expense-amount').value = trx.amount;
            
            openModal('edit-expense-modal');
        }
        
        function openEditAcModal(room) {
            const ac = state.acMaintenance.find(a => a.room == room);
            if (!ac) return;

            document.getElementById('ac-modal-room-number').textContent = room;
            document.getElementById('edit-ac-room').value = room;
            document.getElementById('edit-ac-last-service').value = ac.lastService;
            document.getElementById('edit-ac-next-service').value = ac.nextService;
            
            openModal('edit-ac-modal');
        }


        // --- INITIALIZATION & FORM SUBMISSIONS ---
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const view = urlParams.get('view');

            if (view === 'tenant') {
                // Show tenant view
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('tenant-view-container').classList.remove('hidden');
                document.getElementById('app-container').classList.add('hidden');
            } else {
                // Show admin login screen by default
                document.getElementById('login-screen').classList.remove('hidden');
                document.getElementById('tenant-view-container').classList.add('hidden');
                document.getElementById('app-container').classList.add('hidden');
            }


            // --- FORM SUBMISSIONS ---
            document.getElementById('add-tenant-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const inventoryText = e.target['tenant-inventory'].value;
                const newTenant = {
                    id: Date.now(),
                    name: e.target['tenant-name'].value,
                    ktpNumber: e.target['tenant-ktp-number'].value,
                    ktpAddress: e.target['tenant-ktp-address'].value,
                    room: parseInt(e.target['tenant-room'].value),
                    whatsapp: e.target['tenant-whatsapp'].value,
                    startDate: e.target['tenant-start-date'].value,
                    paymentStatus: 'Belum Bayar',
                    inventory: inventoryText.split(/,|\n/).map(item => item.trim()).filter(item => item)
                };
                state.tenants.push(newTenant);
                
                // Add to AC maintenance if not exists
                if (!state.acMaintenance.some(ac => ac.room === newTenant.room)) {
                    state.acMaintenance.push({ room: newTenant.room, lastService: '', nextService: '' });
                }

                e.target.reset();
                closeModal('add-tenant-modal');
                renderAll();
            });

            document.getElementById('edit-tenant-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const tenantId = parseInt(e.target['edit-tenant-id'].value);
                const tenantIndex = state.tenants.findIndex(t => t.id === tenantId);

                if (tenantIndex > -1) {
                    const inventoryText = e.target['edit-tenant-inventory'].value;
                    state.tenants[tenantIndex] = {
                        id: tenantId,
                        name: e.target['edit-tenant-name'].value,
                        ktpNumber: e.target['edit-tenant-ktp-number'].value,
                        ktpAddress: e.target['edit-tenant-ktp-address'].value,
                        room: parseInt(e.target['edit-tenant-room'].value),
                        whatsapp: e.target['edit-tenant-whatsapp'].value,
                        startDate: e.target['edit-tenant-start-date'].value,
                        paymentStatus: e.target['edit-tenant-payment-status'].value,
                        inventory: inventoryText.split(/,|\n/).map(item => item.trim()).filter(item => item)
                    };
                }

                closeModal('edit-tenant-modal');
                renderAll();
            });

            document.getElementById('add-income-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const newIncome = {
                    id: Date.now(),
                    type: 'income',
                    date: e.target['income-date'].value,
                    description: e.target['income-desc'].value,
                    amount: parseInt(e.target['income-amount'].value)
                };
                state.transactions.push(newIncome);
                e.target.reset();
                closeModal('add-income-modal');
                renderAll();
            });

            document.getElementById('add-expense-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const newExpense = {
                    id: Date.now(),
                    type: 'expense',
                    date: e.target['expense-date'].value,
                    category: e.target['expense-category'].value,
                    amount: parseInt(e.target['expense-amount'].value)
                };
                state.transactions.push(newExpense);
                e.target.reset();
                closeModal('add-expense-modal');
                renderAll();
            });
            
             document.getElementById('edit-income-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const trxId = parseInt(e.target['edit-income-id'].value);
                const trxIndex = state.transactions.findIndex(t => t.id === trxId);
                if (trxIndex > -1) {
                    state.transactions[trxIndex].date = e.target['edit-income-date'].value;
                    state.transactions[trxIndex].description = e.target['edit-income-desc'].value;
                    state.transactions[trxIndex].amount = parseInt(e.target['edit-income-amount'].value);
                }
                closeModal('edit-income-modal');
                renderAll();
            });

            document.getElementById('edit-expense-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const trxId = parseInt(e.target['edit-expense-id'].value);
                const trxIndex = state.transactions.findIndex(t => t.id === trxId);
                if (trxIndex > -1) {
                    state.transactions[trxIndex].date = e.target['edit-expense-date'].value;
                    state.transactions[trxIndex].category = e.target['edit-expense-category'].value;
                    state.transactions[trxIndex].amount = parseInt(e.target['edit-expense-amount'].value);
                }
                closeModal('edit-expense-modal');
                renderAll();
            });
            
            document.getElementById('edit-ac-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const room = parseInt(e.target['edit-ac-room'].value);
                const acIndex = state.acMaintenance.findIndex(a => a.room === room);
                if (acIndex > -1) {
                    state.acMaintenance[acIndex].lastService = e.target['edit-ac-last-service'].value;
                    state.acMaintenance[acIndex].nextService = e.target['edit-ac-next-service'].value;
                }
                closeModal('edit-ac-modal');
                renderAll();
            });

            document.getElementById('add-property-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const count = parseInt(e.target['new-property-count'].value);
                state.properties.totalRooms += count;
                e.target.reset();
                closeModal('add-property-modal');
                renderAll();
            });
            
            document.getElementById('account-settings-form').addEventListener('submit', (e) => {
                e.preventDefault();
                state.currentUser.adminName = e.target['setting-admin-name'].value;
                state.currentUser.username = e.target['setting-username'].value;
                state.currentUser.adminWhatsapp = e.target['setting-admin-whatsapp'].value;
                const newPassword = e.target['setting-password'].value;
                if(newPassword) {
                    state.currentUser.password = newPassword;
                }
                alert('Pengaturan akun berhasil disimpan!');
                document.getElementById('user-display').textContent = state.currentUser.adminName;
            });

            document.getElementById('payment-settings-form').addEventListener('submit', (e) => {
                e.preventDefault();
                state.paymentSettings.bank = e.target['setting-bank'].value;
                state.paymentSettings.accountName = e.target['setting-account-name'].value;
                state.paymentSettings.accountNumber = e.target['setting-account-number'].value;
                alert('Pengaturan pembayaran berhasil disimpan!');
            });
            
            document.getElementById('setting-qris').addEventListener('change', function(event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        document.getElementById('qris-preview').src = e.target.result;
                        state.paymentSettings.qrisImage = e.target.result;
                    }
                    reader.readAsDataURL(file);
                }
            });

            // This function will be called once the page is fully loaded
            // It finds all elements with the `data-lucide` attribute and replaces them with SVG icons.
            lucide.createIcons();
            document.getElementById('confirm-delete-btn').addEventListener('click', confirmDelete);
        });
    </script>


"
Can you explain this code? I only want to know what the code is doing. I don't want to know about the code quality or how to improve it.
Explain it as if I'm a beginner.Tentu, saya akan jelaskan kode ini secara sederhana.

Kode yang Anda pilih adalah sebuah file HTML tunggal yang menciptakan aplikasi web lengkap untuk **manajemen rumah kost**. Anggap saja ini seperti sebuah "dokumen pintar" yang bisa dibuka di browser (seperti Google Chrome) di perangkat apa pun, baik itu laptop maupun HP.

Karena semua logika, tampilan, dan data contoh sudah ada di dalam satu file ini, ia bisa berjalan mandiri tanpa perlu koneksi internet (kecuali untuk memuat beberapa elemen desain di awal).

### Apa Saja yang Dilakukan Kode Ini?

Secara garis besar, kode ini dibagi menjadi tiga bagian utama:

#### 1. Tampilan (HTML &amp; CSS/Styling)
Ini adalah kerangka dan "dandanan" dari aplikasi Anda.
* **HTML (``, `<div>`, `<form>`, dll.)**: Bagian ini membangun semua elemen visual yang Anda lihat: halaman login, tombol-tombol, tabel untuk data penyewa, dan semua menu di sidebar.
* **CSS/Styling (`<style>` dan kelas Tailwind)**: Bagian ini memberikan "make-up" pada kerangka tadi. Ia mengatur warna, ukuran huruf, tata letak, dan membuat tampilan aplikasi terlihat modern dan rapi. Ini juga yang membuat aplikasi bisa menyesuaikan diri dengan layar HP (responsif).

#### 2. Logika dan Interaktivitas (JavaScript)
Ini adalah "otak" dari aplikasi. Semua fungsi pintar ada di sini, ditulis dalam bahasa JavaScript di dalam tag `<script>`.
* **Penyimpanan Data Sementara**: Kode ini membuat sebuah "database mini" di dalam browser untuk menyimpan semua informasi: data login admin, daftar penyewa, catatan keuangan, dan jadwal servis AC. Data ini akan hilang jika Anda menutup browser.
* **Mengatur Tampilan**: JavaScript-lah yang memutuskan apa yang harus ditampilkan. Saat Anda login, ia akan menyembunyikan halaman login dan menampilkan dashboard. Saat Anda klik menu "Keuangan", ia akan menampilkan halaman keuangan.
* **Fungsi Tombol**: Setiap kali Anda mengklik tombol (seperti "Tambah Penyewa", "Hapus", "Edit"), kode JavaScript akan berjalan. Ia akan memunculkan pop-up (modal), menyimpan data yang Anda masukkan, atau menghapus data dari "database mini" tadi.
* **Menghitung Otomatis**: Ia juga melakukan perhitungan, seperti menghitung total pemasukan, pengeluaran, dan tingkat hunian kamar secara otomatis.
* **Tampilan Terpisah (Admin vs Penyewa)**: Bagian cerdasnya adalah ia bisa memeriksa alamat URL. Jika URL-nya biasa, ia menampilkan login admin. Jika ada tambahan `?view=tenant`, ia hanya menampilkan halaman pengaduan sederhana untuk penyewa.

#### 3. Data Contoh (Mock Data)
Di dalam kode JavaScript, ada bagian `state` yang berisi data palsu (contoh). Ini bertujuan agar saat aplikasi pertama kali dibuka, ia tidak terlihat kosong. Ada contoh data penyewa, data transaksi keuangan, dan lainnya. Saat Anda mulai menggunakan aplikasi, data ini akan berubah sesuai input Anda.

### Kesimpulan Sederhana

Bayangkan Anda memiliki sebuah buku catatan canggih. **HTML** adalah halaman dan bab-babnya. **CSS** adalah tulisan tangan yang rapi, sampul yang bagus, dan stabilo warna-warni. **JavaScript** adalah Anda sendiri, yang bisa menulis di buku itu, menghapus, menghitung total pengeluaran, dan hanya menunjukkan halaman tertentu kepada orang yang berbeda.

Itulah inti dari apa yang dilakukan oleh kode pada Canvas ini. Ia menciptakan sebuah aplikasi yang fungsional dan interaktif hanya dengan menggunakan satu file.

</style></form></div></body></html>